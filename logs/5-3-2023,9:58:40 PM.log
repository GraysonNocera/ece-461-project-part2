info: connectToMongo(): Connecting to MongoDB...
info: Starting up the API server...
info: API server listening on port 3000
info: connectToMongo(): Connected to MongoDB
info: req{"Content":"UEsDBAoAAAAAAGFnVFEAAAAAAAAAAAAAAAAcAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAAJAAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aHViL1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAALgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aHViL3dvcmtmbG93cy9QSwMECgAAAAAAYWdUUVqX5tehBAAAoQQAAD0AAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvLmdpdGh1Yi93b3JrZmxvd3MvbnBtLXB1Ymxpc2gueW1sIyBUaGlzIHdvcmtmbG93IHdpbGwgcnVuIHRlc3RzIHVzaW5nIG5vZGUgYW5kIHRoZW4gcHVibGlzaCBhIHBhY2thZ2UgdG8gR2l0SHViIFBhY2thZ2VzIHdoZW4gYSByZWxlYXNlIGlzIGNyZWF0ZWQKIyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWU6IGh0dHBzOi8vaGVscC5naXRodWIuY29tL2FjdGlvbnMvbGFuZ3VhZ2UtYW5kLWZyYW1ld29yay1ndWlkZXMvcHVibGlzaGluZy1ub2RlanMtcGFja2FnZXMKCm5hbWU6IE5vZGUuanMgUGFja2FnZQoKb246CiAgcmVsZWFzZToKICAgIHR5cGVzOiBbY3JlYXRlZF0KCmpvYnM6CiAgYnVpbGQ6CiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CiAgICBzdGVwczoKICAgICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAgIC0gdXNlczogYWN0aW9ucy9zZXR1cC1ub2RlQHYxCiAgICAgICAgd2l0aDoKICAgICAgICAgIG5vZGUtdmVyc2lvbjogMTIKICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHRlc3QKCiAgcHVibGlzaC1ucG06CiAgICBuZWVkczogYnVpbGQKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgICAgLSB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjEKICAgICAgICB3aXRoOgogICAgICAgICAgbm9kZS12ZXJzaW9uOiAxMgogICAgICAgICAgcmVnaXN0cnktdXJsOiBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8KICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHB1Ymxpc2gKICAgICAgICBlbnY6CiAgICAgICAgICBOT0RFX0FVVEhfVE9LRU46ICR7e3NlY3JldHMubnBtX3Rva2VufX0KCiAgcHVibGlzaC1ncHI6CiAgICBuZWVkczogYnVpbGQKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgICAgLSB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjEKICAgICAgICB3aXRoOgogICAgICAgICAgbm9kZS12ZXJzaW9uOiAxMgogICAgICAgICAgcmVnaXN0cnktdXJsOiBodHRwczovL25wbS5wa2cuZ2l0aHViLmNvbS8KICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHB1Ymxpc2gKICAgICAgICBlbnY6CiAgICAgICAgICBOT0RFX0FVVEhfVE9LRU46ICR7e3NlY3JldHMuR0lUSFVCX1RPS0VOfX0KUEsDBAoAAAAAAGFnVFHPK8AJOAAAADgAAAAmAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy5naXRpZ25vcmUudnNjb2RlCmNvdmVyYWdlCm5vZGVfbW9kdWxlcy8KcGFja2FnZS1sb2NrLmpzb24KZGlzdC8KClBLAwQKAAAAAABhZ1RRrA8cwCEAAAAhAAAAJgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8ubnBtaWdub3JlLnZzY29kZQpjb3ZlcmFnZQpzcmMvCmRpc3QvdGVzdC8KUEsDBAoAAAAAAGFnVFGMJLf8mAAAAJgAAAAnAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy50cmF2aXMueW1sc3VkbzogcmVxdWlyZWQKCmxhbmd1YWdlOiBub2RlX2pzCgpub2RlX2pzOgogIC0gIjEwIgogIC0gIjEyIgoKaW5zdGFsbDoKICAtIG5wbSBpbnN0YWxsCgpzY3JpcHQ6CiAgLSBucG0gdGVzdAoKY2FjaGU6CiAgZGlyZWN0b3JpZXM6CiAgICAtIG5vZGVfbW9kdWxlcwpQSwMECgAAAAAAYWdUUfCaaIZKAQAASgEAACgAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvQ0hBTkdFTE9HLm1kIyB2MgoKIyMgdjIuMAoKIyMgdjIuMC4wCgoxLiBVcGRhdGUgUkVBRE1FLgoyLiBTd2l0Y2ggQVNUIGxpYnJhcnkgZnJvbSByZXQgdG8gcmVnZXhwLXRyZWUuCjMuIEZpeCBpbmNvcnJlY3QgaGFuZGxpbmcgb2YgbmVzdGVkIHF1YW50aWZpZXJzIGluIGRpc2p1bmN0aW9ucy4KNC4gRW5oYW5jZSB0ZXN0IHN1aXRlLgoKQ29udHJpYnV0b3JzOgotIFtkYXZpc2phbV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdmlzamFtKQoKIyB2MQoKVGhpcyBpcyB0aGUgaGlzdG9yaWMgcmVsZWFzZS4KCkNvbnRyaWJ1dG9yczoKLSBbc3Vic3RhY2tdKGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjaykKUEsDBAoAAAAAAGFnVFFPHZax0gQAANIEAAAjAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL0xJQ0VOU0VDb3B5cmlnaHQgMjAxOS1wcmVzZW50IGlzIGhlbGQgYnkgdGhlIGF1dGhvcnMgb2YgdGhlIHNhZmUtcmVnZXggbW9kdWxlLgoKVGhpcyBzb2Z0d2FyZSBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6CgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mCnRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluCnRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8KdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YKdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLApzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MKRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SCkNPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUgpJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTgpDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKT3JpZ2luYWwgYXV0aG9yOiBKYW1lcyBIYWxsaWRheSBAc3Vic3RhY2sKTWFpbnRhaW5lcjogSmFtZXMgQy4gKEphbWllKSBEYXZpcyBAZGF2aXNqYW0KUEsDBAoAAAAAAGFnVFFpT6QVSg4AAEoOAAAlAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1JFQURNRS5tZCMgc2FmZS1yZWdleAoKRGV0ZWN0IHBvdGVudGlhbGx5CltjYXRhc3Ryb3BoaWNdKGh0dHA6Ly9yZWd1bGFyLWV4cHJlc3Npb25zLm1vYmkvY2F0YXN0cm9waGljLmh0bWwpCltleHBvbmVudGlhbC10aW1lXShodHRwOi8vcGVybGdlZWsuZGUvYmxvZy1lbi9wZXJsLXRpcHMvaW4tc2VhcmNoLW9mLWFuLWV4cG9uZXRpYWwtcmVnZXhwLmh0bWwpCnJlZ3VsYXIgZXhwcmVzc2lvbnMgYnkgbGltaXRpbmcgdGhlCltzdGFyIGhlaWdodF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Rhcl9oZWlnaHQpIHRvIDEuCgpXQVJOSU5HOiBUaGlzIG1vZHVsZSBoYXMgYm90aCBmYWxzZSBwb3NpdGl2ZXMgYW5kIGZhbHNlIG5lZ2F0aXZlcy4KVXNlIFt2dWxuLXJlZ2V4LWRldGVjdG9yXShodHRwczovL2dpdGh1Yi5jb20vZGF2aXNqYW0vdnVsbi1yZWdleC1kZXRlY3RvcikgZm9yIGltcHJvdmVkIGFjY3VyYWN5LgoKWyFbQnVpbGQgU3RhdHVzXShodHRwczovL3RyYXZpcy1jaS5vcmcvZGF2aXNqYW0vc2FmZS1yZWdleC5zdmc/YnJhbmNoPW1hc3RlcildKGh0dHBzOi8vdHJhdmlzLWNpLm9yZy9kYXZpc2phbS9zYWZlLXJlZ2V4KQoKIyMgRXhhbXBsZQoKU3VwcG9zZSB5b3UgaGF2ZSBhIHNjcmlwdCBuYW1lZCBgc2FmZS5qc2A6CgpgYGAganMKdmFyIHNhZmUgPSByZXF1aXJlKCdzYWZlLXJlZ2V4Jyk7CnZhciByZWdleCA9IHByb2Nlc3MuYXJndi5zbGljZSgyKS5qb2luKCcgJyk7CmNvbnNvbGUubG9nKHNhZmUocmVnZXgpKTsKYGBgCgpUaGlzIGlzIGl0cyBiZWhhdmlvcjoKCmBgYAokIG5vZGUgc2FmZS5qcyAnKHgreCspK3knCmZhbHNlCiQgbm9kZSBzYWZlLmpzICcoYmVlcHxib29wKSonCnRydWUKJCBub2RlIHNhZmUuanMgJyhhKyl7MTB9JwpmYWxzZQokIG5vZGUgc2FmZS5qcyAnXGJsb2NhdGlvblxzKjpbXjpcbl0rXGIoT2FrbGFuZHxTYW4gRnJhbmNpc2NvKVxiJwp0cnVlCmBgYAoKIyMgTWV0aG9kcwoKYGBgIGpzCmNvbnN0IHNhZmUgPSByZXF1aXJlKCdzYWZlLXJlZ2V4JykKYGBgCgojIyMgY29uc3Qgb2sgPSBzYWZlKHJlLCBvcHRzPXt9KQoKUmV0dXJuIGEgYm9vbGVhbiBgb2tgIHdoZXRoZXIgb3Igbm90IHRoZSByZWdleCBgcmVgIGlzIHNhZmUgYW5kIG5vdCBwb3NzaWJseQpjYXRhc3Ryb3BoaWMuCgpgcmVgIGNhbiBiZSBhIGBSZWdFeHBgIG9iamVjdCBvciBqdXN0IGEgc3RyaW5nLgoKSWYgdGhlIGByZWAgaXMgYSBzdHJpbmcgYW5kIGlzIGFuIGludmFsaWQgcmVnZXgsIHJldHVybnMgYGZhbHNlYC4KCiogYG9wdHMubGltaXRgIC0gbWF4aW11bSBudW1iZXIgb2YgYWxsb3dlZCByZXBldGl0aW9ucyBpbiB0aGUgZW50aXJlIHJlZ2V4LgpEZWZhdWx0OiBgMjVgLgoKIyMgSW5zdGFsbAoKV2l0aCBbbnBtXShodHRwczovL25wbWpzLm9yZykgZG86CgpgYGAKbnBtIGluc3RhbGwgc2FmZS1yZWdleApgYGAKCiMjIFJlc291cmNlcwoKIyMjIFdoYXQgc2hvdWxkIEkgZG8gaWYgbXkgcHJvamVjdCBoYXMgYSBzdXBlci1saW5lYXIgcmVnZXg/CgoxLiBDb25maXJtIHRoYXQgaXQgaXMgKnJlYWNoYWJsZSogYnkgdW50cnVzdGVkIGlucHV0LgoyLiBJZiBpdCBpcywgeW91IGNhbiBjb25zaWRlciB3aGV0aGVyIHlvdSBjYW4gcHJldmVudCB3b3JzdC1jYXNlIGJlaGF2aW9yIGJ5IHRyaW1taW5nIHRoZSBpbnB1dCwgcmV2aXNpbmcgdGhlIHJlZ2V4LCBvciByZXBsYWNpbmcgdGhlIHJlZ2V4IHdpdGggYW5vdGhlciBhbGdvcml0aG0gbGlrZSBzdHJpbmcgZnVuY3Rpb25zLiBGb3IgZXhhbXBsZXMsIHNlZSBUYWJsZSA1IGluIFt0aGlzIGFydGljbGVdKGh0dHA6Ly9wZW9wbGUuY3MudnQuZWR1L2RhdmlzamFtL2Rvd25sb2Fkcy9wdWJsaWNhdGlvbnMvRGF2aXNDb2dobGFuU2VydmFudExlZS1FY29zeXN0ZW1SRURPUy1FU0VDRlNFMTgucGRmKS4KMy4gSWYgbm9uZSBvZiB0aG9zZSBzb2x1dGlvbnMgbG9va3MgZmVhc2libGUsIHlvdSBtaWdodCBhbHNvIGNvbnNpZGVyIGNoYW5naW5nIHJlZ2V4IGVuZ2luZXMuIFRoZSBbUkUyIGJpbmRpbmdzXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yZTIpIG1pZ2h0IHdvcmssIHRob3VnaCB0ZXN0IGNhcmVmdWxseSB0byBjb25maXJtIHRoZXJlIGFyZSBubyBbc2VtYW50aWMgcG9ydGFiaWxpdHkgcHJvYmxlbXNdKGh0dHBzOi8vbWVkaXVtLmNvbS9AZGF2aXNqYW0vd2h5LWFyZW50LXJlZ2V4ZXMtYS1saW5ndWEtZnJhbmNhLWVzZWNmc2UxOS1hMzYzNDhkZjNhMj9zb3VyY2U9ZnJpZW5kc19saW5rJnNrPWQyMWJlN2Y4ZjcyM2UyMDgwZGM5OTMzODVjNjk3M2QxKS4KCiMjIyBGdXJ0aGVyIHJlYWRpbmcKClRoZSBmb2xsb3dpbmcgZG9jdW1lbnRzIG1heSBiZSBlZGlmeWluZzoKCi0gW1Jlc2VhcmNoIGJyaWVmIG9uIHRoZSBleHRlbnQgb2Ygc3VwZXItbGluZWFyIHJlZ2V4ZXMgaW4gcHJhY3RpY2VdKGh0dHBzOi8vbWVkaXVtLmNvbS9AZGF2aXNqYW0vaW50cm9kdWN0aW9uLTk4N2ZkYzRjN2IwP3NvdXJjZT1mcmllbmRzX2xpbmsmc2s9Y2VlZmE0YTRjYTk2MTdlMDhhYjc4MmMzYjE1ODBhZWEpCi0gW1Jlc2VhcmNoIGJyaWVmIG9uIHRoZSB2YXJpYWJpbGl0eSBvZiBzdXBlci1saW5lYXIgcmVnZXggYmVoYXZpb3IgYWNyb3NzIHByb2dyYW1taW5nIGxhbmd1YWdlc10oaHR0cHM6Ly9tZWRpdW0uY29tL0BkYXZpc2phbS93aHktYXJlbnQtcmVnZXhlcy1hLWxpbmd1YS1mcmFuY2EtZXNlY2ZzZTE5LWEzNjM0OGRmM2EyP3NvdXJjZT1mcmllbmRzX2xpbmsmc2s9ZDIxYmU3ZjhmNzIzZTIwODBkYzk5MzM4NWM2OTczZDEpCi0gW0NvbXBhcmluZyByZWdleCBtYXRjaGluZyBhbGdvcml0aG1zXShodHRwczovL3N3dGNoLmNvbS9+cnNjL3JlZ2V4cC9yZWdleHAxLmh0bWwpCgojIyBQcm9qZWN0IHBvbGljaWVzCgojIyMgVmVyc2lvbmluZwoKVGhpcyBwcm9qZWN0IGZvbGxvd3MgW1NlbWFudGljIFZlcnNpb25pbmcgMi4wIChzZW12ZXIpXShodHRwczovL3NlbXZlci5vcmcvKS4KCkhlcmUgYXJlIHRoZSBwcm9qZWN0LXNwZWNpZmljIG1lYW5pbmdzIG9mIE1BSk9SLCBNSU5PUiwgYW5kIFBBVENIIHVwZGF0ZXM6CgotIE1BSk9SOiAiSW5jb21wYXRpYmxlIiBBUEkgY2hhbmdlcyB3ZXJlIGludHJvZHVjZWQuIFRoZXJlIGFyZSB0d28gdHlwZXMgaW4gdGhpcyBtb2R1bGU6CiAgLSBDaGFuZ2VzIHRoYXQgbW9kaWZ5IHRoZSBpbnRlcmZhY2UKICAtIENoYW5nZXMgdGhhdCBjYXVzZSBhbnkgcmVnZXhlcyB0byBiZSBtYXJrZWQgYXMgdW5zYWZlIHRoYXQgd2VyZSBmb3JtZXJseSBtYXJrZWQgYXMgc2FmZQotIE1JTk9SOiBGdW5jdGlvbmFsaXR5IHdhcyBhZGRlZCBpbiBhIGJhY2t3YXJkcy1jb21wYXRpYmxlIG1hbm5lci4gVGhlcmUgYXJlIHR3byB0eXBlcyBpbiB0aGlzIG1vZHVsZToKICAtIFJlZmFjdG9yaW5nIHRoZSBhbmFseXNlcyBidXQgbm90IGNoYW5naW5nIHRoZWlyIHJlc3VsdHMKICAtIE1vZGlmeWluZyB0aGUgYW5hbHlzZXMgdG8gcmVkdWNlIGZhbHNlIHBvc2l0aXZlcywgd2l0aG91dCBhZmZlY3RpbmcgbmVnYXRpdmVzIChmYWxzZSBvciB0cnVlKQotIFBBVENIOiBJIGRvbid0IGFudGljaXBhdGUgdXNpbmcgUEFUQ0ggZm9yIHRoaXMgbW9kdWxlCgojIyMgTGljZW5zZQoKW01JVF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdmlzamFtL3NhZmUtcmVnZXgvYmxvYi9tYXN0ZXIvTElDRU5TRSlQSwMECgAAAAAAYWdUUWlMeSNKAQAASgEAAC0AAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvYmFiZWwuY29uZmlnLmpzb257CiAgICAicHJlc2V0cyI6IFsKICAgICAgICBbCiAgICAgICAgICAgICJAYmFiZWwvcHJlc2V0LWVudiIsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0YXJnZXRzIjogewogICAgICAgICAgICAgICAgICAgICJlZGdlIjogIjE3IiwKICAgICAgICAgICAgICAgICAgICAiZmlyZWZveCI6ICI2MCIsCiAgICAgICAgICAgICAgICAgICAgImNocm9tZSI6ICI2NyIsCiAgICAgICAgICAgICAgICAgICAgInNhZmFyaSI6ICIxMS4xIiwKICAgICAgICAgICAgICAgICAgICAiaWUiOiAiMTEiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICBdCn1QSwMECgAAAAAAYWdUUQAAAAAAAAAAAAAAACAAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvYmluL1BLAwQKAAAAAABhZ1RRvBlPlLsDAAC7AwAAJgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9iaW4vY2xpLmpzIyEvdXNyL2Jpbi9lbnYgbm9kZQovLyBDTEkgZm9yIHF1ZXJ5aW5nIHNhZmUtcmVnZXggZm9yIHNhZmV0eSBhbmFseXNpcwovLyBJbnB1dDogSlNPTi1mb3JtYXR0ZWQgZmlsZSB3aXRoIGFuIG9iamVjdCB3aXRoIGtleSAncGF0dGVybicKLy8gT3V0cHV0OiBTVERPVVQ6IEpTT04tZm9ybWF0dGVkIG9iamVjdCB3aXRoIG5ldyBrZXkgJ2lzU2FmZScgYW5kIHZhbHVlIDAgb3IgMQovLyAgICAgICAgIFNUREVSUjogUHJvZ3Jlc3MgdXBkYXRlcwoKdmFyIHNhZmUgPSByZXF1aXJlKCcuLi8nKSwKICAgIGZzICAgPSByZXF1aXJlKCdmcycpOwoKaWYgKHByb2Nlc3MuYXJndi5sZW5ndGggIT0gMykgewogIGNvbnNvbGUuZXJyb3IoYFVzYWdlOiAke3Byb2Nlc3MuYXJndlsxXX0gcGF0dGVybi5qc29uYCk7CiAgcHJvY2Vzcy5leGl0KDEpOwp9CmNvbnN0IGZpbGUgPSBwcm9jZXNzLmFyZ3ZbMl07CgovLyBHZXQgcGF0dGVybgpjb25zdCBjb250ID0gZnMucmVhZEZpbGVTeW5jKGZpbGUsICd1dGYtOCcpOwpsZXQgcGF0dGVybiA9IEpTT04ucGFyc2UoY29udCk7CgovLyBDYW4gYW5hbHl6ZT8gSXMgc2FmZT8KbGV0IGNhbkFuYWx5emUgPSAwOwpsZXQgaXNTYWZlID0gMDsKdHJ5IHsKICBpc1NhZmUgPSBzYWZlKHBhdHRlcm4ucGF0dGVybikgPyAxIDogMDsKICBjYW5BbmFseXplID0gMTsKfSBjYXRjaCAoZSkgewogIGNhbkFuYWx5emUgPSAwOwogIGlzU2FmZSA9ICd1bmtub3duJzsKfQoKcGF0dGVybi5jYW5BbmFseXplID0gY2FuQW5hbHl6ZTsKcGF0dGVybi5pc1NhZmUgPSBpc1NhZmU7CgovLyBFbWl0Lgpjb25zb2xlLmVycm9yKGBQYXR0ZXJuIC8ke3BhdHRlcm4ucGF0dGVybn0vOiBjYW5BbmFseXplICR7cGF0dGVybi5jYW5BbmFseXplfSBpc1NhZmUgJHtwYXR0ZXJuLmlzU2FmZX1gKTsKY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocGF0dGVybikpOwpwcm9jZXNzLmV4aXQoMCk7ClBLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAAJAAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9leGFtcGxlL1BLAwQKAAAAAABhZ1RRzToX22IAAABiAAAAKwAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9leGFtcGxlL3NhZmUuanN2YXIgc2FmZSA9IHJlcXVpcmUoJy4uLycpOwp2YXIgcmVnZXggPSBwcm9jZXNzLmFyZ3Yuc2xpY2UoMikuam9pbignICcpOwpjb25zb2xlLmxvZyhzYWZlKHJlZ2V4KSk7ClBLAwQKAAAAAABhZ1RRX0xY2l4FAABeBQAAKAAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9wYWNrYWdlLmpzb257CiAgIm5hbWUiOiAic2FmZS1yZWdleCIsCiAgInZlcnNpb24iOiAiMi4xLjIiLAogICJkZXNjcmlwdGlvbiI6ICJkZXRlY3QgcG9zc2libHkgY2F0YXN0cm9waGljLCBleHBvbmVudGlhbC10aW1lIHJlZ3VsYXIgZXhwcmVzc2lvbnMiLAogICJtYWluIjogImRpc3QvaW5kZXguanMiLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiYmFiZWwtamVzdCI6ICJeMjYuMy4wIiwKICAgICJyZWdleHAtdHJlZSI6ICJ+MC4xLjEiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgIkBiYWJlbC9jbGkiOiAiXjcuMTEuNiIsCiAgICAiQGJhYmVsL2NvcmUiOiAiXjcuMTEuNiIsCiAgICAiQGJhYmVsL3ByZXNldC1lbnYiOiAiXjcuMTEuNSIsCiAgICAiamVzdCI6ICJeMjQuOS4wIgogIH0sCiAgInNjcmlwdHMiOiB7CiAgICAiYnVpbGQiOiAiYmFiZWwgc3JjIC1kIGRpc3QiLAogICAgInByZXB1Ymxpc2hPbmx5IjogIm5wbSBydW4gYnVpbGQiLAogICAgInRlc3QiOiAiamVzdCBzcmMvKiIsCiAgICAidGVzdC1hcnRpZmFjdCI6ICJqZXN0IGRpc3QvKiIKICB9LAogICJqZXN0IjogewogICAgIm1vZHVsZUZpbGVFeHRlbnNpb25zIjogWwogICAgICAianMiCiAgICBdLAogICAgInRlc3RSZWdleCI6ICJ0ZXN0LipcXC5zcGVjXFwuanMkIiwKICAgICJjb2xsZWN0Q292ZXJhZ2UiOiB0cnVlLAogICAgImNvdmVyYWdlUmVwb3J0ZXJzIjogWwogICAgICAidGV4dC1zdW1tYXJ5IiwKICAgICAgImh0bWwiLAogICAgICAibGNvdiIKICAgIF0sCiAgICAiY29sbGVjdENvdmVyYWdlRnJvbSI6IFsKICAgICAgIi5qcyIKICAgIF0sCiAgICAiY292ZXJhZ2VUaHJlc2hvbGQiOiB7CiAgICAgICJnbG9iYWwiOiB7CiAgICAgICAgInN0YXRlbWVudHMiOiAxMDAsCiAgICAgICAgImJyYW5jaGVzIjogMTAwLAogICAgICAgICJmdW5jdGlvbnMiOiAxMDAsCiAgICAgICAgImxpbmVzIjogMTAwCiAgICAgIH0KICAgIH0KICB9LAogICJyZXBvc2l0b3J5IjogewogICAgInR5cGUiOiAiZ2l0IiwKICAgICJ1cmwiOiAiZ2l0Oi8vZ2l0aHViLmNvbS9kYXZpc2phbS9zYWZlLXJlZ2V4LmdpdCIKICB9LAogICJob21lcGFnZSI6ICJodHRwczovL2dpdGh1Yi5jb20vZGF2aXNqYW0vc2FmZS1yZWdleCIsCiAgImtleXdvcmRzIjogWwogICAgImNhdGFzdHJvcGhpYyIsCiAgICAiZXhwb25lbnRpYWwiLAogICAgInJlZ2V4IiwKICAgICJzYWZlIiwKICAgICJzYW5kYm94IgogIF0sCiAgImF1dGhvciI6IHsKICAgICJuYW1lIjogIkphbWVzIEMuIChKYW1pZSkgRGF2aXMiLAogICAgImVtYWlsIjogImRhdmlzamFtQHZ0LmVkdSIsCiAgICAidXJsIjogImh0dHA6Ly9wZW9wbGUuY3MudnQuZWR1L35kYXZpc2phbSIKICB9LAogICJsaWNlbnNlIjogIk1JVCIKfQpQSwMECgAAAAAAYWdUUQAAAAAAAAAAAAAAACAAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL1BLAwQKAAAAAABhZ1RReYt0/HgAAAB4AAAAMgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9zcmMvYW5hbHl6ZXItZmFtaWx5LmpzLy8gTG9hZCB0aGUgYW5hbHl6ZXJzCmNvbnN0IGhldXJpc3RpY0FuYWx5emVyID0gcmVxdWlyZSgiLi9oZXVyaXN0aWMtYW5hbHl6ZXIiKTsKCm1vZHVsZS5leHBvcnRzID0gW2hldXJpc3RpY0FuYWx5emVyXTsKUEsDBAoAAAAAAGFnVFGdsmROcAYAAHAGAAArAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9hbmFseXplci5qcy8vIEdlbmVyaWMgb3B0aW9ucwpjbGFzcyBBbmFseXplck9wdGlvbnMgewogIGNvbnN0cnVjdG9yKGhldXJpc3RpY19yZXBsaW1pdCkgewogICAgdGhpcy5oZXVyaXN0aWNfcmVwbGltaXQgPSBoZXVyaXN0aWNfcmVwbGltaXQ7CiAgfQp9CgpjbGFzcyBBdHRhY2tTdHJpbmcgewogIGNvbnN0cnVjdG9yKHByZWZpeEFuZFB1bXBMaXN0LCBzdWZmaXgpIHsKICAgIHRoaXMucHJlZml4QW5kUHVtcExpc3QgPSBwcmVmaXhBbmRQdW1wTGlzdDsKICAgIHRoaXMuc3VmZml4ID0gc3VmZml4OwogIH0KfQoKLy8gQWJzdHJhY3QgY2xhc3MKY2xhc3MgQW5hbHl6ZXIgewogIGNvbnN0cnVjdG9yKGFuYWx5emVyT3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gYW5hbHl6ZXJPcHRpb25zOwogIH0KCiAgLy8gU3ViY2xhc3NlciBtdXN0IGltcGxlbWVudAogIC8vIFJldHVybiBib29sZWFuCiAgaXNWdWxuZXJhYmxlKHJlZ0V4cCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLy8gU3ViY2xhc3MgbXVzdCBpbXBsZW1lbnQKICAvLyBSZXR1cm5zIGFuIEF0dGFja1N0cmluZyBvciBudWxsCiAgZ2VuQXR0YWNrU3RyaW5nKHJlZ0V4cCkgewogICAgcmV0dXJuIG51bGw7CiAgfQp9Cgptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHJlLCByZXBsaW1pdCkgewogIC8vIEJ1aWxkIGFuIEFTVAogIGxldCBteVJlZ0V4cCA9IG51bGw7CiAgbGV0IGFzdCA9IG51bGw7CiAgdHJ5IHsKICAgIC8vIENvbnN0cnVjdCBhIFJlZ0V4cCBvYmplY3QKICAgIGlmIChyZSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICBteVJlZ0V4cCA9IHJlOwogICAgfSBlbHNlIGlmICh0eXBlb2YgcmUgPT09ICJzdHJpbmciKSB7CiAgICAgIG15UmVnRXhwID0gbmV3IFJlZ0V4cChyZSk7CiAgICB9IGVsc2UgewogICAgICBteVJlZ0V4cCA9IG5ldyBSZWdFeHAoU3RyaW5nKHJlKSk7CiAgICB9CgogICAgLy8gQnVpbGQgYW4gQVNUCiAgICBhc3QgPSByZWdleHBUcmVlLnBhcnNlKG15UmVnRXhwKTsKICB9IGNhdGNoIChlcnIpIHsKICAgIC8vIEludmFsaWQgb3IgdW5wYXJzZWFibGUgaW5wdXQKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGxldCBjdXJyZW50U3RhckhlaWdodCA9IDA7CiAgbGV0IG1heE9ic2VydmVkU3RhckhlaWdodCA9IDA7CgogIGxldCByZXBldGl0aW9uQ291bnQgPSAwOwoKICByZWdleHBUcmVlLnRyYXZlcnNlKGFzdCwgewogICAgUmVwZXRpdGlvbjogewogICAgICBwcmUoeyBub2RlIH0pIHsKICAgICAgICByZXBldGl0aW9uQ291bnQrKzsKCiAgICAgICAgY3VycmVudFN0YXJIZWlnaHQrKzsKICAgICAgICBpZiAobWF4T2JzZXJ2ZWRTdGFySGVpZ2h0IDwgY3VycmVudFN0YXJIZWlnaHQpIHsKICAgICAgICAgIG1heE9ic2VydmVkU3RhckhlaWdodCA9IGN1cnJlbnRTdGFySGVpZ2h0OwogICAgICAgIH0KICAgICAgfSwKCiAgICAgIHBvc3QoeyBub2RlIH0pIHsKICAgICAgICBjdXJyZW50U3RhckhlaWdodC0tOwogICAgICB9CiAgICB9CiAgfSk7CgogIHJldHVybiBtYXhPYnNlcnZlZFN0YXJIZWlnaHQgPD0gMSAmJiByZXBldGl0aW9uQ291bnQgPD0gcmVwbGltaXQ7Cn07Cgptb2R1bGUuZXhwb3J0cyA9IHsKICAiQW5hbHl6ZXJPcHRpb25zIjogQW5hbHl6ZXJPcHRpb25zLAogICJBbmFseXplciI6IEFuYWx5emVyLAp9OwpQSwMECgAAAAAAYWdUUd4uJvzhBQAA4QUAADUAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL2hldXJpc3RpYy1hbmFseXplci5qcy8vIEV4cG9ydHMgYW4gQW5hbHl6ZXIgc3ViY2xhc3MKCmNvbnN0IHJlZ2V4cFRyZWUgPSByZXF1aXJlKCJyZWdleHAtdHJlZSIpOwpjb25zdCBhbmFseXplciA9IHJlcXVpcmUoIi4vYW5hbHl6ZXIiKTsKCmNsYXNzIEhldXJpc3RpY0FuYWx5emVyIGV4dGVuZHMgYW5hbHl6ZXIuQW5hbHl6ZXIgewogIGNvbnN0cnVjdG9yKGFuYWx5emVyT3B0aW9ucykgewogICAgc3VwZXIoYW5hbHl6ZXJPcHRpb25zKTsKICB9CgogIGlzVnVsbmVyYWJsZShyZWdFeHApIHsKICAgIC8vIEhldXJpc3RpYyAjMTogU3RhciBoZWlnaHQgPiAxCiAgICBjb25zdCBzdGFySGVpZ2h0ID0gdGhpcy5fbWVhc3VyZVN0YXJIZWlnaHQocmVnRXhwKTsKICAgIGlmIChzdGFySGVpZ2h0ID4gMSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBIZXVyaXN0aWMgIzI6ICMgcmVwZXRpdGlvbnMgPiBsaW1pdAogICAgLy8gVE9ETyBUaGlzIGlzIGEgcG9vciBoZXVyaXN0aWMKICAgIGNvbnN0IG5SZXBldGl0aW9ucyA9IHRoaXMuX21lYXN1cmVSZXBldGl0aW9ucyhyZWdFeHApOwogICAgaWYgKG5SZXBldGl0aW9ucyA+IHRoaXMub3B0aW9ucy5oZXVyaXN0aWNfcmVwbGltaXQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZ2VuQXR0YWNrU3RyaW5nKHJlZ0V4cCkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICBfbWVhc3VyZVN0YXJIZWlnaHQocmVnRXhwKSB7CiAgICBsZXQgY3VycmVudFN0YXJIZWlnaHQgPSAwOwogICAgbGV0IG1heE9ic2VydmVkU3RhckhlaWdodCA9IDA7CgogICAgY29uc3QgYXN0ID0gcmVnZXhwVHJlZS5wYXJzZShyZWdFeHApOwoKICAgIHJlZ2V4cFRyZWUudHJhdmVyc2UoYXN0LCB7CiAgICAgIFJlcGV0aXRpb246IHsKICAgICAgICBwcmUoeyBub2RlIH0pIHsKICAgICAgICAgIGN1cnJlbnRTdGFySGVpZ2h0Kys7CiAgICAgICAgICBpZiAobWF4T2JzZXJ2ZWRTdGFySGVpZ2h0IDwgY3VycmVudFN0YXJIZWlnaHQpIHsKICAgICAgICAgICAgbWF4T2JzZXJ2ZWRTdGFySGVpZ2h0ID0gY3VycmVudFN0YXJIZWlnaHQ7CiAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgcG9zdCh7IG5vZGUgfSkgewogICAgICAgICAgY3VycmVudFN0YXJIZWlnaHQtLTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBtYXhPYnNlcnZlZFN0YXJIZWlnaHQ7CiAgfQoKICBfbWVhc3VyZVJlcGV0aXRpb25zKHJlZ0V4cCkgewogICAgbGV0IG5SZXBldGl0aW9ucyA9IDA7CgogICAgY29uc3QgYXN0ID0gcmVnZXhwVHJlZS5wYXJzZShyZWdFeHApOwogICAgcmVnZXhwVHJlZS50cmF2ZXJzZShhc3QsIHsKICAgICAgUmVwZXRpdGlvbjogewogICAgICAgIHByZSh7IG5vZGUgfSkgewogICAgICAgICAgblJlcGV0aXRpb25zKys7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gblJlcGV0aXRpb25zOwogIH0KfQoKbW9kdWxlLmV4cG9ydHMgPSBIZXVyaXN0aWNBbmFseXplcjsKUEsDBAoAAAAAAGFnVFF0UF998AYAAPAGAAAoAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9pbmRleC5qc2NvbnN0IGFuYWx5emVyID0gcmVxdWlyZSgnLi9hbmFseXplcicpOwpjb25zdCBhbmFseXplckZhbWlseSA9IHJlcXVpcmUoJy4vYW5hbHl6ZXItZmFtaWx5Jyk7Cgpjb25zdCBERUZBVUxUX1NBRkVfUkVQX0xJTUlUID0gMjU7CmNvbnN0IFJFVF9JU19TQUZFID0gdHJ1ZTsKY29uc3QgUkVUX0lTX1ZVTE5FUkFCTEUgPSBmYWxzZTsKCmNsYXNzIEFyZ3MgewogIGNvbnN0cnVjdG9yKHJlZ0V4cCwgYW5hbHl6ZXJPcHRpb25zKSB7CiAgICB0aGlzLnJlZ0V4cCA9IHJlZ0V4cDsKICAgIHRoaXMuYW5hbHl6ZXJPcHRpb25zID0gYW5hbHl6ZXJPcHRpb25zOwogIH0KfQoKZnVuY3Rpb24gc2FmZVJlZ2V4KHJlLCBvcHRzKSB7CiAgdHJ5IHsKICAgIGNvbnN0IGFyZ3MgPSBidWlsZEFyZ3MocmUsIG9wdHMpOwogICAgY29uc3QgYW5hbHl6ZXJSZXNwb25zZXMgPSBhc2tBbmFseXplcnNJZlZ1bG5lcmFibGUoYXJncyk7CgogICAgLy8gRGlkIGFueSBhbmFseXplciBzYXkgdHJ1ZT8KICAgIGlmIChhbmFseXplclJlc3BvbnNlcy5maW5kKChpc1Z1bG5lcmFibGUpID0+IGlzVnVsbmVyYWJsZSkpIHsKICAgICAgcmV0dXJuIFJFVF9JU19WVUxORVJBQkxFOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIFJFVF9JU19TQUZFOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgLy8gSW52YWxpZCBvciB1bnBhcnNlYWJsZSBpbnB1dAogICAgcmV0dXJuIGZhbHNlOwogIH0KfQoKZnVuY3Rpb24gYnVpbGRBcmdzKHJlLCBvcHRzKSB7CiAgLy8gQnVpbGQgQW5hbHl6ZXJPcHRpb25zCiAgaWYgKCFvcHRzKSBvcHRzID0ge307CiAgY29uc3QgaGV1cmlzdGljX3JlcGxpbWl0ID0gb3B0cy5saW1pdCA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9TQUZFX1JFUF9MSU1JVCA6IG9wdHMubGltaXQ7CgogIGNvbnN0IGFuYWx5emVyT3B0aW9ucyA9IG5ldyBhbmFseXplci5BbmFseXplck9wdGlvbnMoaGV1cmlzdGljX3JlcGxpbWl0KTsKCiAgLy8gQnVpbGQgUmVnRXhwCiAgbGV0IHJlZ0V4cCA9IG51bGw7CiAgLy8gQ29uc3RydWN0IGEgUmVnRXhwIG9iamVjdAogIGlmIChyZSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgcmVnRXhwID0gcmU7CiAgfSBlbHNlIGlmICh0eXBlb2YgcmUgPT09ICdzdHJpbmcnKSB7CiAgICByZWdFeHAgPSBuZXcgUmVnRXhwKHJlKTsKICB9IGVsc2UgewogICAgcmVnRXhwID0gbmV3IFJlZ0V4cChTdHJpbmcocmUpKTsKICB9CgogIHJldHVybiBuZXcgQXJncyhyZWdFeHAsIGFuYWx5emVyT3B0aW9ucyk7Cn0KCmZ1bmN0aW9uIGFza0FuYWx5emVyc0lmVnVsbmVyYWJsZShhcmdzKSB7CiAgbGV0IGFuYWx5emVyU2F5c1Z1bG5lcmFibGUgPSBbXTsKCiAgLy8gUXVlcnkgdGhlIEFuYWx5emVycwogIGxldCBBbmFseXplcjsKICBmb3IgKEFuYWx5emVyIG9mIGFuYWx5emVyRmFtaWx5KSB7CiAgICB0cnkgewogICAgICBjb25zdCBhbmFseXplciA9IG5ldyBBbmFseXplcihhcmdzLmFuYWx5emVyT3B0aW9ucyk7CiAgICAgIGFuYWx5emVyU2F5c1Z1bG5lcmFibGUucHVzaChhbmFseXplci5pc1Z1bG5lcmFibGUoYXJncy5yZWdFeHApKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAvLyBObyBuZWVkIHRvIHdvcnJ5IGFib3V0IGNvZGUgY292ZXJhZ2UgaGVyZS4KICAgICAgYW5hbHl6ZXJTYXlzVnVsbmVyYWJsZS5wdXNoKGZhbHNlKTsKICAgIH0KICB9CgogIHJldHVybiBhbmFseXplclNheXNWdWxuZXJhYmxlOwp9CgovLyBFeHBvcnQKCm1vZHVsZS5leHBvcnRzID0gc2FmZVJlZ2V4O1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAAJQAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9zcmMvdGVzdC9QSwMECgAAAAAAYWdUUa4GtdlbFQAAWxUAADIAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL3Rlc3QvcmVnZXguc3BlYy5qc2NvbnN0IHNhZmVSZWdleCA9IHJlcXVpcmUoIi4uLyIpOwoKY29uc3QgUkVQRVRJVElPTl9MSU1JVCA9IDI1Owpjb25zdCBSRVBFVElUSU9OX1RPT19NVUNIID0gUkVQRVRJVElPTl9MSU1JVCArIDE7CgovLyBUT0RPIE5hbWVkIGNoYXJhY3RlciBjbGFzc2VzCgp0ZXN0KCJUaGUgZnVsbCBzZXQgb2YgSlMgcmVnZXggZmVhdHVyZXMgYXJlIHN1cHBvcnRlZCIsICgpID0+IHsKICAvKioKICAgKiBBIGxpc3Qgb2YgbGluZWFyLXRpbWUgcmVnZXhlcyB1c2luZyBhIHJlYXNvbmFibHkgZXhoYXVzdGl2ZQogICAqIHNldCBvZiB0aGUgc3VwcG9ydGVkIEpTIHJlZ2V4IGZlYXR1cmVzLgogICAqIGNmLiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L0d1aWRlL1JlZ3VsYXJfRXhwcmVzc2lvbnMKICAgKgogICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbGlzdCBpcyB0byBjaGVjayBmb3IKICAgKiBmdWxsIHJlZ2V4IHN5bnRheCBzdXBwb3J0LgogICAqLwogIGNvbnN0IGRpdmVyc2VMaW5UaW1lUmVnZXhlcyA9IFsKICAgIC8qIFRydWx5IFJlZ3VsYXIgRXhwcmVzc2lvbnMgKi8KCiAgICAvLyBDb25qdW5jdGlvbgogICAgL2EvLAogICAgL2FiYy8sCgogICAgLy8gU2ltcGxlIHplcm8td2lkdGggYXNzZXJ0aW9ucwogICAgL15hLywKICAgIC9hJC8sCgogICAgLy8gUXVhbnRpZmllcnMKICAgIC9eYSovLAogICAgL15hKy8sCiAgICAvYT8vLAogICAgL3h7NX0vLAogICAgL3h7NSx9LywKICAgIC94ezUsMTB9LywKCiAgICAvLyBHcm91cGluZyBjb25zdHJ1Y3RzCiAgICAvKHgpLywKICAgIC8oPzp4KS8sCgogICAgLy8gRGlzanVuY3Rpb24KICAgIC94fHkvLAoKICAgIC8vIEJ1aWx0LWluIGNoYXJhY3RlciBjbGFzc2VzCiAgICAvLlwuLywKICAgIC9bXGJdLywKICAgIC9cYi8sCiAgICAvXEIvLAogICAgL1xjQS8sCiAgICAvXGQvLAogICAgL1xELywKICAgIC9cZi8sCiAgICAvXG4vLAogICAgL1xyLywKICAgIC9ccy8sCiAgICAvXFMvLAogICAgL1x0LywKICAgIC9cdi8sCiAgICAvXHcvLAogICAgL1xXLywKICAgIC9cMC8sCiAgICAvXHgwMC8sCiAgICAvXHUwMDAwLywKICAgIC9cdXswMDAwfS91LAoKICAgIC8vIEN1c3RvbSBjaGFyYWN0ZXIgY2xhc3NlcwogICAgL1t4eXpdLywKICAgIC9beC16XS8sCiAgICAvW154eXpdLywKICAgIC9bXngtel0vLAoKICAgIC8qIEV4dGVuZGVkIGZlYXR1cmVzICovCgogICAgLy8gQmFja3JlZmVyZW5jZXMKICAgIC8oeCkgXDEvLAoKICAgIC8vIExvb2thcm91bmQgYXNzZXJ0aW9ucwogICAgL3goPz15KS8sCiAgICAveCg/IXkpLywKCiAgICAvKiBBZGRlZCBpbiBFQ01BU2NyaXB0IDIwMTggKi8KCiAgICAvLyBMb29rYmVoaW5kIGFzc2VydGlvbnMKICAgIC8oPzw9eSl4LywKICAgIC8oPyE8eSl4LywKCiAgICAvLyBOYW1lZCBjYXB0dXJlIGdyb3VwcwogICAgLyg/PHllYXI+XGR7NH0pLywKICAgIC8oPzx5ZWFyPmEpXGs8eWVhcj4vLAogICAgLy8gVGVzdHMgcmVsYXRlZCB0byBidWcgIzI2CiAgICAvKD88eWVhcj50ZXN0PykvLAogICAgLyg/PHllYXI+dGVzdCopLywKICAgIC8oPzx5ZWFyPnRlc3QpKi8sCiAgXTsKCiAgZGl2ZXJzZUxpblRpbWVSZWdleGVzLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgibGluZWFyLXRpbWUgcmVnZXhlcyBhcmUgc2FmZSIsICgpID0+IHsKICBjb25zdCBsaW5UaW1lID0gWwogICAgLyoqCiAgICAgKiBObyBmYWxzZSBwb3NpdGl2ZXMKICAgICAqLwoKICAgIC8vIFN0YW5kYXJkIHJlZ2V4IGZlYXR1cmVzCiAgICAvYS8sCiAgICAvYSovLAogICAgL15hKi8sCiAgICAvXmErJC8sCiAgICAvYSskLywKICAgIC9hPy8sCiAgICAvYXszLDV9LywKICAgIC9hfGIvLAogICAgLyhhYikvLAogICAgLyhhYilcMS8sCiAgICAvXGJPYWtsYW5kXGIvLAogICAgL14oKGErKXwoYispKS8sCiAgICAvKGErKXwoYispLywKCiAgICAvLyBSRSdzIGluIGEgc3RyaW5nCiAgICAiXmZvby9iYXIiLAoKICAgIC8vIG5vbi1SRSwgbm9uLXN0cmluZwogICAgMSwKICBdOwoKICBsaW5UaW1lLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgibGluZWFyLXRpbWUgcmVnZXhlcyBhcmUgc2FmZSwgdW5kZXIgdmFyeWluZyByZXBldGl0aW9uIGxpbWl0cyIsICgpID0+IHsKICBjb25zdCByZTEgPSBSZWdFeHAoImE/Ii5yZXBlYXQoUkVQRVRJVElPTl9MSU1JVCkgKyAiYSIucmVwZWF0KFJFUEVUSVRJT05fTElNSVQpKTsKICBleHBlY3Qoc2FmZVJlZ2V4KHJlMSkpLnRvQmUodHJ1ZSk7CgogIGNvbnN0IExPV19SRVBFVElUSU9OX0xJTUlUID0gMzsKICBjb25zdCByZTIgPSBSZWdFeHAoQXJyYXkoTE9XX1JFUEVUSVRJT05fTElNSVQpLmpvaW4oImE/IikpOwoKICBleHBlY3Qoc2FmZVJlZ2V4KHJlMiwgeyBsaW1pdDogTE9XX1JFUEVUSVRJT05fTElNSVQgfSkpLnRvQmUodHJ1ZSk7Cn0pOwoKdGVzdCgicG9seS10aW1lIHJlZ2V4ZXMgYXJlIHNhZmUgKGF0IGxlYXN0IGFjY29yZGluZyB0byBvdXIgaGV1cmlzdGljcykiLCAoKSA9PiB7CiAgY29uc3QgcG9seVRpbWUgPSBbCiAgICAvXmErYSskLywgICAgICAgIC8vIFFPQQogICAgL15hK2FhKyQvLCAgICAgICAvLyBRT0Egd2l0aCBvYnZpb3VzIGludGVybWVkaWF0ZSBydW4KICAgIC9eYSthYWFhKyQvLCAgICAgLy8gUU9BIHdpdGggb2J2aW91cyBpbnRlcm1lZGlhdGUgcnVuCiAgICAvXmErW2Etel1hKyQvLCAgIC8vIFFPQSB3aXRoIG9idmlvdXMgaW50ZXJtZWRpYXRlIHJ1bgogICAgL15hK1x3YSskLywgICAgICAvLyBRT0Egd2l0aCBpbnRlcm1lZGlhdGUgY2hhcmFjdGVyIGNsYXNzCiAgICAvXmErKFx3fFxkKWErJC8sIC8vIFFPQSB3aXRoIHZhbGlkIHBhdGggdGhyb3VnaAogICAgL15hK2I/YSskLywgICAgICAvLyBRT0Egd2l0aCB2YWxpZCBwYXRoIHRocm91Z2gKICAgIC9eYSsoY2RlKSphKyQvLCAgLy8gUU9BIHdpdGggdmFsaWQgcGF0aCB0aHJvdWdoCiAgICAvXi4qYSokLywgICAgICAgIC8vIFFPQSBieSBzdWJzZXQKICAgIC9eXHcqXGQqJC8sICAgICAgLy8gUU9BIGJ5IGludGVyc2VjdGlvbgogICAgL15cUytAXFMrXC5cUyskLywgLy8gRXhhbXBsZSBmcm9tIERqYW5nbwogICAgL2ErJC8sICAgICAgICAgICAvLyBRT0EgdW5kZXIgcGFydGlhbC1tYXRjaAogICAgL2FiYy4qJC8sICAgICAgICAvLyBRT0EgdW5kZXIgcGFydGlhbC1tYXRjaAogICAgLy8gVE9ETyBJdCB3b3VsZCBiZSBuaWNlIHRvIGhhdmUgb25lIG9mIHRoZSByZWdleGVzIHRoYXQgYXJlIHBvbHktdGltZSBldmVuIHdoZW4gdGhleSBtYXRjaCwgZHVlIHRvIG5vbi1ncmVlZHkgcXVhbnRpZmllcnMgKHAtTkZBKQogIF07CgogIHBvbHlUaW1lLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgiZXhwLXRpbWUgcmVnZXhlcyBkdWUgdG8gc3RhciBoZWlnaHQgYXJlIHVuc2FmZSIsICgpID0+IHsKICBjb25zdCBleHBUaW1lID0gWwogICAgLy8gU3RyYWlnaHRmb3J3YXJkIHN0YXIgaGVpZ2h0CiAgICAvKGEqKSokLywKICAgIC8oYT8pKiQvLAogICAgLyhhKik/JC8sCiAgICAvKGEqKSskLywKICAgIC8oYSspKiQvLAogICAgLyhcd2ErKSokLywgLy8gUHJlZml4CiAgICAvKFwuLiopKiQvLCAvLyBTdWZmaXgKCiAgICAvLyBCcmFuY2hpbmcgYW5kIG5lc3RpbmcuCiAgICAvKGEqfGIpKyQvLAogICAgLyhhfGIqKSskLywKICAgIC8oKChiKikpKSskLywKICAgIC8oKChiKikpKykkLywKICAgIC8oKChiKikrKSkkLywKICAgIC8oKChiKSopKykkLywKICAgIC8oKChiKSopKSskLywKCiAgICAvLyBNaXNjLiBtb3JlIGNvbXBsZXggY2FzZXMKICAgIC9eKGE/KXsyNX0oYSl7MjV9JC8sCiAgICAvKHgreCspK3kvLAogICAgL2Zvb3woeCt4KykreS8sCiAgICAvKGErKXsxMH15LywKICAgIC8oYSspezJ9eS8sCiAgICAvKC4qKXsxLDMyMDAwfVtiY10vLAoKCiAgICAvLyBSRSdzIGluIGEgc3RyaW5nCiAgICAiKGErKSsiLAogIF07CgogIGV4cFRpbWUuZm9yRWFjaChyZSA9PiB7CiAgICBleHBlY3Qoc2FmZVJlZ2V4KHJlKSkudG9CZShmYWxzZSk7CiAgfSk7Cn0pOwoKdGVzdCgibGluZWFyLXRpbWUgcmVnZXhlcyB3aXRoIHN0YXIgaGVpZ2h0ID4gMSIsICgpID0+IHsKICAvLyBUT0RPIFRoZXNlIGFyZSBmYWxzZSBwb3NpdGl2ZXMsIEZpeCBvbmNlIHdlIGltcHJvdmUgYW5hbHlzaXMKICBjb25zdCBsaW5UaW1lID0gWwogICAgLyhhYiopKyQvLAogICAgLyhiKmEpKyQvLAogIF07CgogIGxpblRpbWUuZm9yRWFjaChyZSA9PiB7CiAgICBleHBlY3Qoc2FmZVJlZ2V4KHJlKSkudG9CZShmYWxzZSk7CiAgfSk7Cn0pOwoKdGVzdCgiZXhwLXRpbWUgcmVnZXhlcyBkdWUgdG8gZGlzanVuY3Rpb24gYXJlIHNhZmUgKGFjY29yZGluZyB0byBjdXJyZW50IGhldXJpc3RpY3MpIiwgKCkgPT4gewogIC8vIFRPRE8gVGhlc2UgYXJlIGZhbHNlIG5lZ2F0aXZlcy4gRml4IG9uY2Ugd2UgaW1wcm92ZSBhbmFseXNpcwogIGNvbnN0IGV4cFRpbWUgPSBbCiAgICAvKGF8YSkqJC8sICAgICAgIC8vIFFPRDogb2J2aW91cyAKICAgIC8oYXxcdykqJC8sICAgICAgLy8gUU9EIGR1ZSB0byBvdmVybGFwCiAgICAvKFthYmNdfGIpKiQvLCAgIC8vIFFPRCBkdWUgdG8gb3ZlcmxhcAogICAgLyhcd1x3XHd8YmFiKSokLywgLy8gUU9EIGR1ZSB0byBvdmVybGFwLCB3aXRoIG11bHRpLXN0ZXAgaW50ZXJuYWwgcGF0aHMKICBdOwoKICBleHBUaW1lLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgicmVnZXggdGhhdCBleGNlZWRzIHJlcGV0aXRpb24gbGltaXQgaXMgdW5zYWZlIiwgKCkgPT4gewogIGNvbnN0IHJlMSA9IFJlZ0V4cCgiYT8iLnJlcGVhdChSRVBFVElUSU9OX1RPT19NVUNIKSArICJhIi5yZXBlYXQoUkVQRVRJVElPTl9UT09fTVVDSCkpOwogIGV4cGVjdChzYWZlUmVnZXgocmUxKSkudG9CZShmYWxzZSk7CgogIGNvbnN0IExPV19SRVBFVElUSU9OX0xJTUlUID0gMzsKICBjb25zdCByZTIgPSBSZWdFeHAoImE/Ii5yZXBlYXQoTE9XX1JFUEVUSVRJT05fTElNSVQgKyAxKSk7CiAgZXhwZWN0KHNhZmVSZWdleChyZTIsIHsgbGltaXQ6IExPV19SRVBFVElUSU9OX0xJTUlUIH0pKS50b0JlKGZhbHNlKTsKfSk7Cgp0ZXN0KCJpbnZhbGlkIHJlZ2V4ZXMgZGVmYXVsdCB0byB1bnNhZmUiLCAoKSA9PiB7CiAgY29uc3QgaW52YWxpZCA9IFsKICAgICIoYSsiLAogICAgIlthLXoiLAogICAgIipPYWtsYW5kKiIsCiAgICAiaGV5KHlvbykgKSIsCiAgICAiYWJjZGUoPz5oZWxsb3cpIiwKICAgICJbYWJjIiwKICBdOwoKICBpbnZhbGlkLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUoZmFsc2UpOwogIH0pOwp9KTtQSwECFAAKAAAAAABhZ1RRAAAAAAAAAAAAAAAAHAAAAAAAAAAAABAAAAAAAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1BLAQIUAAoAAAAAAGFnVFEAAAAAAAAAAAAAAAAkAAAAAAAAAAAAEAAAADoAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvLmdpdGh1Yi9QSwECFAAKAAAAAABhZ1RRAAAAAAAAAAAAAAAALgAAAAAAAAAAABAAAAB8AAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy5naXRodWIvd29ya2Zsb3dzL1BLAQIUAAoAAAAAAGFnVFFal+bXoQQAAKEEAAA9AAAAAAAAAAAAAAAAAMgAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvLmdpdGh1Yi93b3JrZmxvd3MvbnBtLXB1Ymxpc2gueW1sUEsBAhQACgAAAAAAYWdUUc8rwAk4AAAAOAAAACYAAAAAAAAAAAAAAAAAxAUAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aWdub3JlUEsBAhQACgAAAAAAYWdUUawPHMAhAAAAIQAAACYAAAAAAAAAAAAAAAAAQAYAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8ubnBtaWdub3JlUEsBAhQACgAAAAAAYWdUUYwkt/yYAAAAmAAAACcAAAAAAAAAAAAAAAAApQYAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8udHJhdmlzLnltbFBLAQIUAAoAAAAAAGFnVFHwmmiGSgEAAEoBAAAoAAAAAAAAAAAAAAAAAIIHAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvQ0hBTkdFTE9HLm1kUEsBAhQACgAAAAAAYWdUUU8dlrHSBAAA0gQAACMAAAAAAAAAAAAAAAAAEgkAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9MSUNFTlNFUEsBAhQACgAAAAAAYWdUUWlPpBVKDgAASg4AACUAAAAAAAAAAAAAAAAAJQ4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9SRUFETUUubWRQSwECFAAKAAAAAABhZ1RRaUx5I0oBAABKAQAALQAAAAAAAAAAAAAAAACyHAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL2JhYmVsLmNvbmZpZy5qc29uUEsBAhQACgAAAAAAYWdUUQAAAAAAAAAAAAAAACAAAAAAAAAAAAAQAAAARx4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9iaW4vUEsBAhQACgAAAAAAYWdUUbwZT5S7AwAAuwMAACYAAAAAAAAAAAAAAAAAhR4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9iaW4vY2xpLmpzUEsBAhQACgAAAAAAYWdUUQAAAAAAAAAAAAAAACQAAAAAAAAAAAAQAAAAhCIAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9leGFtcGxlL1BLAQIUAAoAAAAAAGFnVFHNOhfbYgAAAGIAAAArAAAAAAAAAAAAAAAAAMYiAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvZXhhbXBsZS9zYWZlLmpzUEsBAhQACgAAAAAAYWdUUV9MWNpeBQAAXgUAACgAAAAAAAAAAAAAAAAAcSMAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9wYWNrYWdlLmpzb25QSwECFAAKAAAAAABhZ1RRAAAAAAAAAAAAAAAAIAAAAAAAAAAAABAAAAAVKQAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9QSwECFAAKAAAAAABhZ1RReYt0/HgAAAB4AAAAMgAAAAAAAAAAAAAAAABTKQAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9hbmFseXplci1mYW1pbHkuanNQSwECFAAKAAAAAABhZ1RRnbJkTnAGAABwBgAAKwAAAAAAAAAAAAAAAAAbKgAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9hbmFseXplci5qc1BLAQIUAAoAAAAAAGFnVFHeLib84QUAAOEFAAA1AAAAAAAAAAAAAAAAANQwAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL2hldXJpc3RpYy1hbmFseXplci5qc1BLAQIUAAoAAAAAAGFnVFF0UF998AYAAPAGAAAoAAAAAAAAAAAAAAAAAAg3AABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL2luZGV4LmpzUEsBAhQACgAAAAAAYWdUUQAAAAAAAAAAAAAAACUAAAAAAAAAAAAQAAAAPj4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9zcmMvdGVzdC9QSwECFAAKAAAAAABhZ1RRrga12VsVAABbFQAAMgAAAAAAAAAAAAAAAACBPgAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy90ZXN0L3JlZ2V4LnNwZWMuanNQSwUGAAAAABcAFwDLBwAALFQAACgAOTA0MWQ4MDg4MzBhNTg0ZDBlNmY1MTI5MzkwODlmNjcwODBkYmRkMg=="}
info: authorizeUser: Authorizing user...
info: authorizeUser: Auth received eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7IlVzZXIiOnsibmFtZSI6ImVjZTMwODYxZGVmYXVsdGFkbWludXNlciIsImlzQWRtaW4iOnRydWUsImlzU2VhcmNoIjp0cnVlLCJpc0Rvd25sb2FkIjp0cnVlLCJpc1VwbG9hZCI6dHJ1ZX0sIlNlY3JldCI6eyJwYXNzd29yZCI6ImNvcnJlY3Rob3JzZWJhdHRlcnlzdGFwbGUxMjMoIV9fK0AqKihBJ1wiYDtEUk9QIFRBQkxFIHBhY2thZ2VzOyJ9fSwiaWF0IjoxNjgyNjAwNDU1LCJleHAiOjE2ODI2MzY0NTV9.9bCTLJoeuyDt3u40qyFo87PJiJ3DoHMMsdhXpvhRwRg
debug: authorizeUser: error: TokenExpiredError: jwt expired
info: req{"User":{"name":"ece30861defaultadminuser","isAdmin":true,"isSearch":true,"isDownload":true,"isUpload":true},"Secret":{"password":"correcthorsebatterystaple123(!__+@**(A'\"`;DROP TABLE packages;"}}
info: authorizeUser: Authorizing user...
info: authorizeUser: Auth received 
info: authorizeUser: auth success
info: PUT /authenticate
info: Auth data: {"User":{"name":"ece30861defaultadminuser","isAdmin":true,"isSearch":true,"isDownload":true,"isUpload":true},"Secret":{"password":"correcthorsebatterystaple123(!__+@**(A'\"`;DROP TABLE packages;"}}
info: Authentication successful
info: req{"Content":"UEsDBAoAAAAAAGFnVFEAAAAAAAAAAAAAAAAcAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAAJAAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aHViL1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAALgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aHViL3dvcmtmbG93cy9QSwMECgAAAAAAYWdUUVqX5tehBAAAoQQAAD0AAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvLmdpdGh1Yi93b3JrZmxvd3MvbnBtLXB1Ymxpc2gueW1sIyBUaGlzIHdvcmtmbG93IHdpbGwgcnVuIHRlc3RzIHVzaW5nIG5vZGUgYW5kIHRoZW4gcHVibGlzaCBhIHBhY2thZ2UgdG8gR2l0SHViIFBhY2thZ2VzIHdoZW4gYSByZWxlYXNlIGlzIGNyZWF0ZWQKIyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWU6IGh0dHBzOi8vaGVscC5naXRodWIuY29tL2FjdGlvbnMvbGFuZ3VhZ2UtYW5kLWZyYW1ld29yay1ndWlkZXMvcHVibGlzaGluZy1ub2RlanMtcGFja2FnZXMKCm5hbWU6IE5vZGUuanMgUGFja2FnZQoKb246CiAgcmVsZWFzZToKICAgIHR5cGVzOiBbY3JlYXRlZF0KCmpvYnM6CiAgYnVpbGQ6CiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CiAgICBzdGVwczoKICAgICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAgIC0gdXNlczogYWN0aW9ucy9zZXR1cC1ub2RlQHYxCiAgICAgICAgd2l0aDoKICAgICAgICAgIG5vZGUtdmVyc2lvbjogMTIKICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHRlc3QKCiAgcHVibGlzaC1ucG06CiAgICBuZWVkczogYnVpbGQKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgICAgLSB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjEKICAgICAgICB3aXRoOgogICAgICAgICAgbm9kZS12ZXJzaW9uOiAxMgogICAgICAgICAgcmVnaXN0cnktdXJsOiBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8KICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHB1Ymxpc2gKICAgICAgICBlbnY6CiAgICAgICAgICBOT0RFX0FVVEhfVE9LRU46ICR7e3NlY3JldHMubnBtX3Rva2VufX0KCiAgcHVibGlzaC1ncHI6CiAgICBuZWVkczogYnVpbGQKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgICAgLSB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjEKICAgICAgICB3aXRoOgogICAgICAgICAgbm9kZS12ZXJzaW9uOiAxMgogICAgICAgICAgcmVnaXN0cnktdXJsOiBodHRwczovL25wbS5wa2cuZ2l0aHViLmNvbS8KICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHB1Ymxpc2gKICAgICAgICBlbnY6CiAgICAgICAgICBOT0RFX0FVVEhfVE9LRU46ICR7e3NlY3JldHMuR0lUSFVCX1RPS0VOfX0KUEsDBAoAAAAAAGFnVFHPK8AJOAAAADgAAAAmAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy5naXRpZ25vcmUudnNjb2RlCmNvdmVyYWdlCm5vZGVfbW9kdWxlcy8KcGFja2FnZS1sb2NrLmpzb24KZGlzdC8KClBLAwQKAAAAAABhZ1RRrA8cwCEAAAAhAAAAJgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8ubnBtaWdub3JlLnZzY29kZQpjb3ZlcmFnZQpzcmMvCmRpc3QvdGVzdC8KUEsDBAoAAAAAAGFnVFGMJLf8mAAAAJgAAAAnAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy50cmF2aXMueW1sc3VkbzogcmVxdWlyZWQKCmxhbmd1YWdlOiBub2RlX2pzCgpub2RlX2pzOgogIC0gIjEwIgogIC0gIjEyIgoKaW5zdGFsbDoKICAtIG5wbSBpbnN0YWxsCgpzY3JpcHQ6CiAgLSBucG0gdGVzdAoKY2FjaGU6CiAgZGlyZWN0b3JpZXM6CiAgICAtIG5vZGVfbW9kdWxlcwpQSwMECgAAAAAAYWdUUfCaaIZKAQAASgEAACgAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvQ0hBTkdFTE9HLm1kIyB2MgoKIyMgdjIuMAoKIyMgdjIuMC4wCgoxLiBVcGRhdGUgUkVBRE1FLgoyLiBTd2l0Y2ggQVNUIGxpYnJhcnkgZnJvbSByZXQgdG8gcmVnZXhwLXRyZWUuCjMuIEZpeCBpbmNvcnJlY3QgaGFuZGxpbmcgb2YgbmVzdGVkIHF1YW50aWZpZXJzIGluIGRpc2p1bmN0aW9ucy4KNC4gRW5oYW5jZSB0ZXN0IHN1aXRlLgoKQ29udHJpYnV0b3JzOgotIFtkYXZpc2phbV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdmlzamFtKQoKIyB2MQoKVGhpcyBpcyB0aGUgaGlzdG9yaWMgcmVsZWFzZS4KCkNvbnRyaWJ1dG9yczoKLSBbc3Vic3RhY2tdKGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjaykKUEsDBAoAAAAAAGFnVFFPHZax0gQAANIEAAAjAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL0xJQ0VOU0VDb3B5cmlnaHQgMjAxOS1wcmVzZW50IGlzIGhlbGQgYnkgdGhlIGF1dGhvcnMgb2YgdGhlIHNhZmUtcmVnZXggbW9kdWxlLgoKVGhpcyBzb2Z0d2FyZSBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6CgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mCnRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluCnRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8KdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YKdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLApzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MKRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SCkNPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUgpJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTgpDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKT3JpZ2luYWwgYXV0aG9yOiBKYW1lcyBIYWxsaWRheSBAc3Vic3RhY2sKTWFpbnRhaW5lcjogSmFtZXMgQy4gKEphbWllKSBEYXZpcyBAZGF2aXNqYW0KUEsDBAoAAAAAAGFnVFFpT6QVSg4AAEoOAAAlAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1JFQURNRS5tZCMgc2FmZS1yZWdleAoKRGV0ZWN0IHBvdGVudGlhbGx5CltjYXRhc3Ryb3BoaWNdKGh0dHA6Ly9yZWd1bGFyLWV4cHJlc3Npb25zLm1vYmkvY2F0YXN0cm9waGljLmh0bWwpCltleHBvbmVudGlhbC10aW1lXShodHRwOi8vcGVybGdlZWsuZGUvYmxvZy1lbi9wZXJsLXRpcHMvaW4tc2VhcmNoLW9mLWFuLWV4cG9uZXRpYWwtcmVnZXhwLmh0bWwpCnJlZ3VsYXIgZXhwcmVzc2lvbnMgYnkgbGltaXRpbmcgdGhlCltzdGFyIGhlaWdodF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Rhcl9oZWlnaHQpIHRvIDEuCgpXQVJOSU5HOiBUaGlzIG1vZHVsZSBoYXMgYm90aCBmYWxzZSBwb3NpdGl2ZXMgYW5kIGZhbHNlIG5lZ2F0aXZlcy4KVXNlIFt2dWxuLXJlZ2V4LWRldGVjdG9yXShodHRwczovL2dpdGh1Yi5jb20vZGF2aXNqYW0vdnVsbi1yZWdleC1kZXRlY3RvcikgZm9yIGltcHJvdmVkIGFjY3VyYWN5LgoKWyFbQnVpbGQgU3RhdHVzXShodHRwczovL3RyYXZpcy1jaS5vcmcvZGF2aXNqYW0vc2FmZS1yZWdleC5zdmc/YnJhbmNoPW1hc3RlcildKGh0dHBzOi8vdHJhdmlzLWNpLm9yZy9kYXZpc2phbS9zYWZlLXJlZ2V4KQoKIyMgRXhhbXBsZQoKU3VwcG9zZSB5b3UgaGF2ZSBhIHNjcmlwdCBuYW1lZCBgc2FmZS5qc2A6CgpgYGAganMKdmFyIHNhZmUgPSByZXF1aXJlKCdzYWZlLXJlZ2V4Jyk7CnZhciByZWdleCA9IHByb2Nlc3MuYXJndi5zbGljZSgyKS5qb2luKCcgJyk7CmNvbnNvbGUubG9nKHNhZmUocmVnZXgpKTsKYGBgCgpUaGlzIGlzIGl0cyBiZWhhdmlvcjoKCmBgYAokIG5vZGUgc2FmZS5qcyAnKHgreCspK3knCmZhbHNlCiQgbm9kZSBzYWZlLmpzICcoYmVlcHxib29wKSonCnRydWUKJCBub2RlIHNhZmUuanMgJyhhKyl7MTB9JwpmYWxzZQokIG5vZGUgc2FmZS5qcyAnXGJsb2NhdGlvblxzKjpbXjpcbl0rXGIoT2FrbGFuZHxTYW4gRnJhbmNpc2NvKVxiJwp0cnVlCmBgYAoKIyMgTWV0aG9kcwoKYGBgIGpzCmNvbnN0IHNhZmUgPSByZXF1aXJlKCdzYWZlLXJlZ2V4JykKYGBgCgojIyMgY29uc3Qgb2sgPSBzYWZlKHJlLCBvcHRzPXt9KQoKUmV0dXJuIGEgYm9vbGVhbiBgb2tgIHdoZXRoZXIgb3Igbm90IHRoZSByZWdleCBgcmVgIGlzIHNhZmUgYW5kIG5vdCBwb3NzaWJseQpjYXRhc3Ryb3BoaWMuCgpgcmVgIGNhbiBiZSBhIGBSZWdFeHBgIG9iamVjdCBvciBqdXN0IGEgc3RyaW5nLgoKSWYgdGhlIGByZWAgaXMgYSBzdHJpbmcgYW5kIGlzIGFuIGludmFsaWQgcmVnZXgsIHJldHVybnMgYGZhbHNlYC4KCiogYG9wdHMubGltaXRgIC0gbWF4aW11bSBudW1iZXIgb2YgYWxsb3dlZCByZXBldGl0aW9ucyBpbiB0aGUgZW50aXJlIHJlZ2V4LgpEZWZhdWx0OiBgMjVgLgoKIyMgSW5zdGFsbAoKV2l0aCBbbnBtXShodHRwczovL25wbWpzLm9yZykgZG86CgpgYGAKbnBtIGluc3RhbGwgc2FmZS1yZWdleApgYGAKCiMjIFJlc291cmNlcwoKIyMjIFdoYXQgc2hvdWxkIEkgZG8gaWYgbXkgcHJvamVjdCBoYXMgYSBzdXBlci1saW5lYXIgcmVnZXg/CgoxLiBDb25maXJtIHRoYXQgaXQgaXMgKnJlYWNoYWJsZSogYnkgdW50cnVzdGVkIGlucHV0LgoyLiBJZiBpdCBpcywgeW91IGNhbiBjb25zaWRlciB3aGV0aGVyIHlvdSBjYW4gcHJldmVudCB3b3JzdC1jYXNlIGJlaGF2aW9yIGJ5IHRyaW1taW5nIHRoZSBpbnB1dCwgcmV2aXNpbmcgdGhlIHJlZ2V4LCBvciByZXBsYWNpbmcgdGhlIHJlZ2V4IHdpdGggYW5vdGhlciBhbGdvcml0aG0gbGlrZSBzdHJpbmcgZnVuY3Rpb25zLiBGb3IgZXhhbXBsZXMsIHNlZSBUYWJsZSA1IGluIFt0aGlzIGFydGljbGVdKGh0dHA6Ly9wZW9wbGUuY3MudnQuZWR1L2RhdmlzamFtL2Rvd25sb2Fkcy9wdWJsaWNhdGlvbnMvRGF2aXNDb2dobGFuU2VydmFudExlZS1FY29zeXN0ZW1SRURPUy1FU0VDRlNFMTgucGRmKS4KMy4gSWYgbm9uZSBvZiB0aG9zZSBzb2x1dGlvbnMgbG9va3MgZmVhc2libGUsIHlvdSBtaWdodCBhbHNvIGNvbnNpZGVyIGNoYW5naW5nIHJlZ2V4IGVuZ2luZXMuIFRoZSBbUkUyIGJpbmRpbmdzXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yZTIpIG1pZ2h0IHdvcmssIHRob3VnaCB0ZXN0IGNhcmVmdWxseSB0byBjb25maXJtIHRoZXJlIGFyZSBubyBbc2VtYW50aWMgcG9ydGFiaWxpdHkgcHJvYmxlbXNdKGh0dHBzOi8vbWVkaXVtLmNvbS9AZGF2aXNqYW0vd2h5LWFyZW50LXJlZ2V4ZXMtYS1saW5ndWEtZnJhbmNhLWVzZWNmc2UxOS1hMzYzNDhkZjNhMj9zb3VyY2U9ZnJpZW5kc19saW5rJnNrPWQyMWJlN2Y4ZjcyM2UyMDgwZGM5OTMzODVjNjk3M2QxKS4KCiMjIyBGdXJ0aGVyIHJlYWRpbmcKClRoZSBmb2xsb3dpbmcgZG9jdW1lbnRzIG1heSBiZSBlZGlmeWluZzoKCi0gW1Jlc2VhcmNoIGJyaWVmIG9uIHRoZSBleHRlbnQgb2Ygc3VwZXItbGluZWFyIHJlZ2V4ZXMgaW4gcHJhY3RpY2VdKGh0dHBzOi8vbWVkaXVtLmNvbS9AZGF2aXNqYW0vaW50cm9kdWN0aW9uLTk4N2ZkYzRjN2IwP3NvdXJjZT1mcmllbmRzX2xpbmsmc2s9Y2VlZmE0YTRjYTk2MTdlMDhhYjc4MmMzYjE1ODBhZWEpCi0gW1Jlc2VhcmNoIGJyaWVmIG9uIHRoZSB2YXJpYWJpbGl0eSBvZiBzdXBlci1saW5lYXIgcmVnZXggYmVoYXZpb3IgYWNyb3NzIHByb2dyYW1taW5nIGxhbmd1YWdlc10oaHR0cHM6Ly9tZWRpdW0uY29tL0BkYXZpc2phbS93aHktYXJlbnQtcmVnZXhlcy1hLWxpbmd1YS1mcmFuY2EtZXNlY2ZzZTE5LWEzNjM0OGRmM2EyP3NvdXJjZT1mcmllbmRzX2xpbmsmc2s9ZDIxYmU3ZjhmNzIzZTIwODBkYzk5MzM4NWM2OTczZDEpCi0gW0NvbXBhcmluZyByZWdleCBtYXRjaGluZyBhbGdvcml0aG1zXShodHRwczovL3N3dGNoLmNvbS9+cnNjL3JlZ2V4cC9yZWdleHAxLmh0bWwpCgojIyBQcm9qZWN0IHBvbGljaWVzCgojIyMgVmVyc2lvbmluZwoKVGhpcyBwcm9qZWN0IGZvbGxvd3MgW1NlbWFudGljIFZlcnNpb25pbmcgMi4wIChzZW12ZXIpXShodHRwczovL3NlbXZlci5vcmcvKS4KCkhlcmUgYXJlIHRoZSBwcm9qZWN0LXNwZWNpZmljIG1lYW5pbmdzIG9mIE1BSk9SLCBNSU5PUiwgYW5kIFBBVENIIHVwZGF0ZXM6CgotIE1BSk9SOiAiSW5jb21wYXRpYmxlIiBBUEkgY2hhbmdlcyB3ZXJlIGludHJvZHVjZWQuIFRoZXJlIGFyZSB0d28gdHlwZXMgaW4gdGhpcyBtb2R1bGU6CiAgLSBDaGFuZ2VzIHRoYXQgbW9kaWZ5IHRoZSBpbnRlcmZhY2UKICAtIENoYW5nZXMgdGhhdCBjYXVzZSBhbnkgcmVnZXhlcyB0byBiZSBtYXJrZWQgYXMgdW5zYWZlIHRoYXQgd2VyZSBmb3JtZXJseSBtYXJrZWQgYXMgc2FmZQotIE1JTk9SOiBGdW5jdGlvbmFsaXR5IHdhcyBhZGRlZCBpbiBhIGJhY2t3YXJkcy1jb21wYXRpYmxlIG1hbm5lci4gVGhlcmUgYXJlIHR3byB0eXBlcyBpbiB0aGlzIG1vZHVsZToKICAtIFJlZmFjdG9yaW5nIHRoZSBhbmFseXNlcyBidXQgbm90IGNoYW5naW5nIHRoZWlyIHJlc3VsdHMKICAtIE1vZGlmeWluZyB0aGUgYW5hbHlzZXMgdG8gcmVkdWNlIGZhbHNlIHBvc2l0aXZlcywgd2l0aG91dCBhZmZlY3RpbmcgbmVnYXRpdmVzIChmYWxzZSBvciB0cnVlKQotIFBBVENIOiBJIGRvbid0IGFudGljaXBhdGUgdXNpbmcgUEFUQ0ggZm9yIHRoaXMgbW9kdWxlCgojIyMgTGljZW5zZQoKW01JVF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdmlzamFtL3NhZmUtcmVnZXgvYmxvYi9tYXN0ZXIvTElDRU5TRSlQSwMECgAAAAAAYWdUUWlMeSNKAQAASgEAAC0AAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvYmFiZWwuY29uZmlnLmpzb257CiAgICAicHJlc2V0cyI6IFsKICAgICAgICBbCiAgICAgICAgICAgICJAYmFiZWwvcHJlc2V0LWVudiIsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0YXJnZXRzIjogewogICAgICAgICAgICAgICAgICAgICJlZGdlIjogIjE3IiwKICAgICAgICAgICAgICAgICAgICAiZmlyZWZveCI6ICI2MCIsCiAgICAgICAgICAgICAgICAgICAgImNocm9tZSI6ICI2NyIsCiAgICAgICAgICAgICAgICAgICAgInNhZmFyaSI6ICIxMS4xIiwKICAgICAgICAgICAgICAgICAgICAiaWUiOiAiMTEiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICBdCn1QSwMECgAAAAAAYWdUUQAAAAAAAAAAAAAAACAAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvYmluL1BLAwQKAAAAAABhZ1RRvBlPlLsDAAC7AwAAJgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9iaW4vY2xpLmpzIyEvdXNyL2Jpbi9lbnYgbm9kZQovLyBDTEkgZm9yIHF1ZXJ5aW5nIHNhZmUtcmVnZXggZm9yIHNhZmV0eSBhbmFseXNpcwovLyBJbnB1dDogSlNPTi1mb3JtYXR0ZWQgZmlsZSB3aXRoIGFuIG9iamVjdCB3aXRoIGtleSAncGF0dGVybicKLy8gT3V0cHV0OiBTVERPVVQ6IEpTT04tZm9ybWF0dGVkIG9iamVjdCB3aXRoIG5ldyBrZXkgJ2lzU2FmZScgYW5kIHZhbHVlIDAgb3IgMQovLyAgICAgICAgIFNUREVSUjogUHJvZ3Jlc3MgdXBkYXRlcwoKdmFyIHNhZmUgPSByZXF1aXJlKCcuLi8nKSwKICAgIGZzICAgPSByZXF1aXJlKCdmcycpOwoKaWYgKHByb2Nlc3MuYXJndi5sZW5ndGggIT0gMykgewogIGNvbnNvbGUuZXJyb3IoYFVzYWdlOiAke3Byb2Nlc3MuYXJndlsxXX0gcGF0dGVybi5qc29uYCk7CiAgcHJvY2Vzcy5leGl0KDEpOwp9CmNvbnN0IGZpbGUgPSBwcm9jZXNzLmFyZ3ZbMl07CgovLyBHZXQgcGF0dGVybgpjb25zdCBjb250ID0gZnMucmVhZEZpbGVTeW5jKGZpbGUsICd1dGYtOCcpOwpsZXQgcGF0dGVybiA9IEpTT04ucGFyc2UoY29udCk7CgovLyBDYW4gYW5hbHl6ZT8gSXMgc2FmZT8KbGV0IGNhbkFuYWx5emUgPSAwOwpsZXQgaXNTYWZlID0gMDsKdHJ5IHsKICBpc1NhZmUgPSBzYWZlKHBhdHRlcm4ucGF0dGVybikgPyAxIDogMDsKICBjYW5BbmFseXplID0gMTsKfSBjYXRjaCAoZSkgewogIGNhbkFuYWx5emUgPSAwOwogIGlzU2FmZSA9ICd1bmtub3duJzsKfQoKcGF0dGVybi5jYW5BbmFseXplID0gY2FuQW5hbHl6ZTsKcGF0dGVybi5pc1NhZmUgPSBpc1NhZmU7CgovLyBFbWl0Lgpjb25zb2xlLmVycm9yKGBQYXR0ZXJuIC8ke3BhdHRlcm4ucGF0dGVybn0vOiBjYW5BbmFseXplICR7cGF0dGVybi5jYW5BbmFseXplfSBpc1NhZmUgJHtwYXR0ZXJuLmlzU2FmZX1gKTsKY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocGF0dGVybikpOwpwcm9jZXNzLmV4aXQoMCk7ClBLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAAJAAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9leGFtcGxlL1BLAwQKAAAAAABhZ1RRzToX22IAAABiAAAAKwAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9leGFtcGxlL3NhZmUuanN2YXIgc2FmZSA9IHJlcXVpcmUoJy4uLycpOwp2YXIgcmVnZXggPSBwcm9jZXNzLmFyZ3Yuc2xpY2UoMikuam9pbignICcpOwpjb25zb2xlLmxvZyhzYWZlKHJlZ2V4KSk7ClBLAwQKAAAAAABhZ1RRX0xY2l4FAABeBQAAKAAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9wYWNrYWdlLmpzb257CiAgIm5hbWUiOiAic2FmZS1yZWdleCIsCiAgInZlcnNpb24iOiAiMi4xLjIiLAogICJkZXNjcmlwdGlvbiI6ICJkZXRlY3QgcG9zc2libHkgY2F0YXN0cm9waGljLCBleHBvbmVudGlhbC10aW1lIHJlZ3VsYXIgZXhwcmVzc2lvbnMiLAogICJtYWluIjogImRpc3QvaW5kZXguanMiLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiYmFiZWwtamVzdCI6ICJeMjYuMy4wIiwKICAgICJyZWdleHAtdHJlZSI6ICJ+MC4xLjEiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgIkBiYWJlbC9jbGkiOiAiXjcuMTEuNiIsCiAgICAiQGJhYmVsL2NvcmUiOiAiXjcuMTEuNiIsCiAgICAiQGJhYmVsL3ByZXNldC1lbnYiOiAiXjcuMTEuNSIsCiAgICAiamVzdCI6ICJeMjQuOS4wIgogIH0sCiAgInNjcmlwdHMiOiB7CiAgICAiYnVpbGQiOiAiYmFiZWwgc3JjIC1kIGRpc3QiLAogICAgInByZXB1Ymxpc2hPbmx5IjogIm5wbSBydW4gYnVpbGQiLAogICAgInRlc3QiOiAiamVzdCBzcmMvKiIsCiAgICAidGVzdC1hcnRpZmFjdCI6ICJqZXN0IGRpc3QvKiIKICB9LAogICJqZXN0IjogewogICAgIm1vZHVsZUZpbGVFeHRlbnNpb25zIjogWwogICAgICAianMiCiAgICBdLAogICAgInRlc3RSZWdleCI6ICJ0ZXN0LipcXC5zcGVjXFwuanMkIiwKICAgICJjb2xsZWN0Q292ZXJhZ2UiOiB0cnVlLAogICAgImNvdmVyYWdlUmVwb3J0ZXJzIjogWwogICAgICAidGV4dC1zdW1tYXJ5IiwKICAgICAgImh0bWwiLAogICAgICAibGNvdiIKICAgIF0sCiAgICAiY29sbGVjdENvdmVyYWdlRnJvbSI6IFsKICAgICAgIi5qcyIKICAgIF0sCiAgICAiY292ZXJhZ2VUaHJlc2hvbGQiOiB7CiAgICAgICJnbG9iYWwiOiB7CiAgICAgICAgInN0YXRlbWVudHMiOiAxMDAsCiAgICAgICAgImJyYW5jaGVzIjogMTAwLAogICAgICAgICJmdW5jdGlvbnMiOiAxMDAsCiAgICAgICAgImxpbmVzIjogMTAwCiAgICAgIH0KICAgIH0KICB9LAogICJyZXBvc2l0b3J5IjogewogICAgInR5cGUiOiAiZ2l0IiwKICAgICJ1cmwiOiAiZ2l0Oi8vZ2l0aHViLmNvbS9kYXZpc2phbS9zYWZlLXJlZ2V4LmdpdCIKICB9LAogICJob21lcGFnZSI6ICJodHRwczovL2dpdGh1Yi5jb20vZGF2aXNqYW0vc2FmZS1yZWdleCIsCiAgImtleXdvcmRzIjogWwogICAgImNhdGFzdHJvcGhpYyIsCiAgICAiZXhwb25lbnRpYWwiLAogICAgInJlZ2V4IiwKICAgICJzYWZlIiwKICAgICJzYW5kYm94IgogIF0sCiAgImF1dGhvciI6IHsKICAgICJuYW1lIjogIkphbWVzIEMuIChKYW1pZSkgRGF2aXMiLAogICAgImVtYWlsIjogImRhdmlzamFtQHZ0LmVkdSIsCiAgICAidXJsIjogImh0dHA6Ly9wZW9wbGUuY3MudnQuZWR1L35kYXZpc2phbSIKICB9LAogICJsaWNlbnNlIjogIk1JVCIKfQpQSwMECgAAAAAAYWdUUQAAAAAAAAAAAAAAACAAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL1BLAwQKAAAAAABhZ1RReYt0/HgAAAB4AAAAMgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9zcmMvYW5hbHl6ZXItZmFtaWx5LmpzLy8gTG9hZCB0aGUgYW5hbHl6ZXJzCmNvbnN0IGhldXJpc3RpY0FuYWx5emVyID0gcmVxdWlyZSgiLi9oZXVyaXN0aWMtYW5hbHl6ZXIiKTsKCm1vZHVsZS5leHBvcnRzID0gW2hldXJpc3RpY0FuYWx5emVyXTsKUEsDBAoAAAAAAGFnVFGdsmROcAYAAHAGAAArAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9hbmFseXplci5qcy8vIEdlbmVyaWMgb3B0aW9ucwpjbGFzcyBBbmFseXplck9wdGlvbnMgewogIGNvbnN0cnVjdG9yKGhldXJpc3RpY19yZXBsaW1pdCkgewogICAgdGhpcy5oZXVyaXN0aWNfcmVwbGltaXQgPSBoZXVyaXN0aWNfcmVwbGltaXQ7CiAgfQp9CgpjbGFzcyBBdHRhY2tTdHJpbmcgewogIGNvbnN0cnVjdG9yKHByZWZpeEFuZFB1bXBMaXN0LCBzdWZmaXgpIHsKICAgIHRoaXMucHJlZml4QW5kUHVtcExpc3QgPSBwcmVmaXhBbmRQdW1wTGlzdDsKICAgIHRoaXMuc3VmZml4ID0gc3VmZml4OwogIH0KfQoKLy8gQWJzdHJhY3QgY2xhc3MKY2xhc3MgQW5hbHl6ZXIgewogIGNvbnN0cnVjdG9yKGFuYWx5emVyT3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gYW5hbHl6ZXJPcHRpb25zOwogIH0KCiAgLy8gU3ViY2xhc3NlciBtdXN0IGltcGxlbWVudAogIC8vIFJldHVybiBib29sZWFuCiAgaXNWdWxuZXJhYmxlKHJlZ0V4cCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLy8gU3ViY2xhc3MgbXVzdCBpbXBsZW1lbnQKICAvLyBSZXR1cm5zIGFuIEF0dGFja1N0cmluZyBvciBudWxsCiAgZ2VuQXR0YWNrU3RyaW5nKHJlZ0V4cCkgewogICAgcmV0dXJuIG51bGw7CiAgfQp9Cgptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHJlLCByZXBsaW1pdCkgewogIC8vIEJ1aWxkIGFuIEFTVAogIGxldCBteVJlZ0V4cCA9IG51bGw7CiAgbGV0IGFzdCA9IG51bGw7CiAgdHJ5IHsKICAgIC8vIENvbnN0cnVjdCBhIFJlZ0V4cCBvYmplY3QKICAgIGlmIChyZSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICBteVJlZ0V4cCA9IHJlOwogICAgfSBlbHNlIGlmICh0eXBlb2YgcmUgPT09ICJzdHJpbmciKSB7CiAgICAgIG15UmVnRXhwID0gbmV3IFJlZ0V4cChyZSk7CiAgICB9IGVsc2UgewogICAgICBteVJlZ0V4cCA9IG5ldyBSZWdFeHAoU3RyaW5nKHJlKSk7CiAgICB9CgogICAgLy8gQnVpbGQgYW4gQVNUCiAgICBhc3QgPSByZWdleHBUcmVlLnBhcnNlKG15UmVnRXhwKTsKICB9IGNhdGNoIChlcnIpIHsKICAgIC8vIEludmFsaWQgb3IgdW5wYXJzZWFibGUgaW5wdXQKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGxldCBjdXJyZW50U3RhckhlaWdodCA9IDA7CiAgbGV0IG1heE9ic2VydmVkU3RhckhlaWdodCA9IDA7CgogIGxldCByZXBldGl0aW9uQ291bnQgPSAwOwoKICByZWdleHBUcmVlLnRyYXZlcnNlKGFzdCwgewogICAgUmVwZXRpdGlvbjogewogICAgICBwcmUoeyBub2RlIH0pIHsKICAgICAgICByZXBldGl0aW9uQ291bnQrKzsKCiAgICAgICAgY3VycmVudFN0YXJIZWlnaHQrKzsKICAgICAgICBpZiAobWF4T2JzZXJ2ZWRTdGFySGVpZ2h0IDwgY3VycmVudFN0YXJIZWlnaHQpIHsKICAgICAgICAgIG1heE9ic2VydmVkU3RhckhlaWdodCA9IGN1cnJlbnRTdGFySGVpZ2h0OwogICAgICAgIH0KICAgICAgfSwKCiAgICAgIHBvc3QoeyBub2RlIH0pIHsKICAgICAgICBjdXJyZW50U3RhckhlaWdodC0tOwogICAgICB9CiAgICB9CiAgfSk7CgogIHJldHVybiBtYXhPYnNlcnZlZFN0YXJIZWlnaHQgPD0gMSAmJiByZXBldGl0aW9uQ291bnQgPD0gcmVwbGltaXQ7Cn07Cgptb2R1bGUuZXhwb3J0cyA9IHsKICAiQW5hbHl6ZXJPcHRpb25zIjogQW5hbHl6ZXJPcHRpb25zLAogICJBbmFseXplciI6IEFuYWx5emVyLAp9OwpQSwMECgAAAAAAYWdUUd4uJvzhBQAA4QUAADUAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL2hldXJpc3RpYy1hbmFseXplci5qcy8vIEV4cG9ydHMgYW4gQW5hbHl6ZXIgc3ViY2xhc3MKCmNvbnN0IHJlZ2V4cFRyZWUgPSByZXF1aXJlKCJyZWdleHAtdHJlZSIpOwpjb25zdCBhbmFseXplciA9IHJlcXVpcmUoIi4vYW5hbHl6ZXIiKTsKCmNsYXNzIEhldXJpc3RpY0FuYWx5emVyIGV4dGVuZHMgYW5hbHl6ZXIuQW5hbHl6ZXIgewogIGNvbnN0cnVjdG9yKGFuYWx5emVyT3B0aW9ucykgewogICAgc3VwZXIoYW5hbHl6ZXJPcHRpb25zKTsKICB9CgogIGlzVnVsbmVyYWJsZShyZWdFeHApIHsKICAgIC8vIEhldXJpc3RpYyAjMTogU3RhciBoZWlnaHQgPiAxCiAgICBjb25zdCBzdGFySGVpZ2h0ID0gdGhpcy5fbWVhc3VyZVN0YXJIZWlnaHQocmVnRXhwKTsKICAgIGlmIChzdGFySGVpZ2h0ID4gMSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBIZXVyaXN0aWMgIzI6ICMgcmVwZXRpdGlvbnMgPiBsaW1pdAogICAgLy8gVE9ETyBUaGlzIGlzIGEgcG9vciBoZXVyaXN0aWMKICAgIGNvbnN0IG5SZXBldGl0aW9ucyA9IHRoaXMuX21lYXN1cmVSZXBldGl0aW9ucyhyZWdFeHApOwogICAgaWYgKG5SZXBldGl0aW9ucyA+IHRoaXMub3B0aW9ucy5oZXVyaXN0aWNfcmVwbGltaXQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZ2VuQXR0YWNrU3RyaW5nKHJlZ0V4cCkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICBfbWVhc3VyZVN0YXJIZWlnaHQocmVnRXhwKSB7CiAgICBsZXQgY3VycmVudFN0YXJIZWlnaHQgPSAwOwogICAgbGV0IG1heE9ic2VydmVkU3RhckhlaWdodCA9IDA7CgogICAgY29uc3QgYXN0ID0gcmVnZXhwVHJlZS5wYXJzZShyZWdFeHApOwoKICAgIHJlZ2V4cFRyZWUudHJhdmVyc2UoYXN0LCB7CiAgICAgIFJlcGV0aXRpb246IHsKICAgICAgICBwcmUoeyBub2RlIH0pIHsKICAgICAgICAgIGN1cnJlbnRTdGFySGVpZ2h0Kys7CiAgICAgICAgICBpZiAobWF4T2JzZXJ2ZWRTdGFySGVpZ2h0IDwgY3VycmVudFN0YXJIZWlnaHQpIHsKICAgICAgICAgICAgbWF4T2JzZXJ2ZWRTdGFySGVpZ2h0ID0gY3VycmVudFN0YXJIZWlnaHQ7CiAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgcG9zdCh7IG5vZGUgfSkgewogICAgICAgICAgY3VycmVudFN0YXJIZWlnaHQtLTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBtYXhPYnNlcnZlZFN0YXJIZWlnaHQ7CiAgfQoKICBfbWVhc3VyZVJlcGV0aXRpb25zKHJlZ0V4cCkgewogICAgbGV0IG5SZXBldGl0aW9ucyA9IDA7CgogICAgY29uc3QgYXN0ID0gcmVnZXhwVHJlZS5wYXJzZShyZWdFeHApOwogICAgcmVnZXhwVHJlZS50cmF2ZXJzZShhc3QsIHsKICAgICAgUmVwZXRpdGlvbjogewogICAgICAgIHByZSh7IG5vZGUgfSkgewogICAgICAgICAgblJlcGV0aXRpb25zKys7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gblJlcGV0aXRpb25zOwogIH0KfQoKbW9kdWxlLmV4cG9ydHMgPSBIZXVyaXN0aWNBbmFseXplcjsKUEsDBAoAAAAAAGFnVFF0UF998AYAAPAGAAAoAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9pbmRleC5qc2NvbnN0IGFuYWx5emVyID0gcmVxdWlyZSgnLi9hbmFseXplcicpOwpjb25zdCBhbmFseXplckZhbWlseSA9IHJlcXVpcmUoJy4vYW5hbHl6ZXItZmFtaWx5Jyk7Cgpjb25zdCBERUZBVUxUX1NBRkVfUkVQX0xJTUlUID0gMjU7CmNvbnN0IFJFVF9JU19TQUZFID0gdHJ1ZTsKY29uc3QgUkVUX0lTX1ZVTE5FUkFCTEUgPSBmYWxzZTsKCmNsYXNzIEFyZ3MgewogIGNvbnN0cnVjdG9yKHJlZ0V4cCwgYW5hbHl6ZXJPcHRpb25zKSB7CiAgICB0aGlzLnJlZ0V4cCA9IHJlZ0V4cDsKICAgIHRoaXMuYW5hbHl6ZXJPcHRpb25zID0gYW5hbHl6ZXJPcHRpb25zOwogIH0KfQoKZnVuY3Rpb24gc2FmZVJlZ2V4KHJlLCBvcHRzKSB7CiAgdHJ5IHsKICAgIGNvbnN0IGFyZ3MgPSBidWlsZEFyZ3MocmUsIG9wdHMpOwogICAgY29uc3QgYW5hbHl6ZXJSZXNwb25zZXMgPSBhc2tBbmFseXplcnNJZlZ1bG5lcmFibGUoYXJncyk7CgogICAgLy8gRGlkIGFueSBhbmFseXplciBzYXkgdHJ1ZT8KICAgIGlmIChhbmFseXplclJlc3BvbnNlcy5maW5kKChpc1Z1bG5lcmFibGUpID0+IGlzVnVsbmVyYWJsZSkpIHsKICAgICAgcmV0dXJuIFJFVF9JU19WVUxORVJBQkxFOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIFJFVF9JU19TQUZFOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgLy8gSW52YWxpZCBvciB1bnBhcnNlYWJsZSBpbnB1dAogICAgcmV0dXJuIGZhbHNlOwogIH0KfQoKZnVuY3Rpb24gYnVpbGRBcmdzKHJlLCBvcHRzKSB7CiAgLy8gQnVpbGQgQW5hbHl6ZXJPcHRpb25zCiAgaWYgKCFvcHRzKSBvcHRzID0ge307CiAgY29uc3QgaGV1cmlzdGljX3JlcGxpbWl0ID0gb3B0cy5saW1pdCA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9TQUZFX1JFUF9MSU1JVCA6IG9wdHMubGltaXQ7CgogIGNvbnN0IGFuYWx5emVyT3B0aW9ucyA9IG5ldyBhbmFseXplci5BbmFseXplck9wdGlvbnMoaGV1cmlzdGljX3JlcGxpbWl0KTsKCiAgLy8gQnVpbGQgUmVnRXhwCiAgbGV0IHJlZ0V4cCA9IG51bGw7CiAgLy8gQ29uc3RydWN0IGEgUmVnRXhwIG9iamVjdAogIGlmIChyZSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgcmVnRXhwID0gcmU7CiAgfSBlbHNlIGlmICh0eXBlb2YgcmUgPT09ICdzdHJpbmcnKSB7CiAgICByZWdFeHAgPSBuZXcgUmVnRXhwKHJlKTsKICB9IGVsc2UgewogICAgcmVnRXhwID0gbmV3IFJlZ0V4cChTdHJpbmcocmUpKTsKICB9CgogIHJldHVybiBuZXcgQXJncyhyZWdFeHAsIGFuYWx5emVyT3B0aW9ucyk7Cn0KCmZ1bmN0aW9uIGFza0FuYWx5emVyc0lmVnVsbmVyYWJsZShhcmdzKSB7CiAgbGV0IGFuYWx5emVyU2F5c1Z1bG5lcmFibGUgPSBbXTsKCiAgLy8gUXVlcnkgdGhlIEFuYWx5emVycwogIGxldCBBbmFseXplcjsKICBmb3IgKEFuYWx5emVyIG9mIGFuYWx5emVyRmFtaWx5KSB7CiAgICB0cnkgewogICAgICBjb25zdCBhbmFseXplciA9IG5ldyBBbmFseXplcihhcmdzLmFuYWx5emVyT3B0aW9ucyk7CiAgICAgIGFuYWx5emVyU2F5c1Z1bG5lcmFibGUucHVzaChhbmFseXplci5pc1Z1bG5lcmFibGUoYXJncy5yZWdFeHApKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAvLyBObyBuZWVkIHRvIHdvcnJ5IGFib3V0IGNvZGUgY292ZXJhZ2UgaGVyZS4KICAgICAgYW5hbHl6ZXJTYXlzVnVsbmVyYWJsZS5wdXNoKGZhbHNlKTsKICAgIH0KICB9CgogIHJldHVybiBhbmFseXplclNheXNWdWxuZXJhYmxlOwp9CgovLyBFeHBvcnQKCm1vZHVsZS5leHBvcnRzID0gc2FmZVJlZ2V4O1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAAJQAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9zcmMvdGVzdC9QSwMECgAAAAAAYWdUUa4GtdlbFQAAWxUAADIAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL3Rlc3QvcmVnZXguc3BlYy5qc2NvbnN0IHNhZmVSZWdleCA9IHJlcXVpcmUoIi4uLyIpOwoKY29uc3QgUkVQRVRJVElPTl9MSU1JVCA9IDI1Owpjb25zdCBSRVBFVElUSU9OX1RPT19NVUNIID0gUkVQRVRJVElPTl9MSU1JVCArIDE7CgovLyBUT0RPIE5hbWVkIGNoYXJhY3RlciBjbGFzc2VzCgp0ZXN0KCJUaGUgZnVsbCBzZXQgb2YgSlMgcmVnZXggZmVhdHVyZXMgYXJlIHN1cHBvcnRlZCIsICgpID0+IHsKICAvKioKICAgKiBBIGxpc3Qgb2YgbGluZWFyLXRpbWUgcmVnZXhlcyB1c2luZyBhIHJlYXNvbmFibHkgZXhoYXVzdGl2ZQogICAqIHNldCBvZiB0aGUgc3VwcG9ydGVkIEpTIHJlZ2V4IGZlYXR1cmVzLgogICAqIGNmLiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L0d1aWRlL1JlZ3VsYXJfRXhwcmVzc2lvbnMKICAgKgogICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbGlzdCBpcyB0byBjaGVjayBmb3IKICAgKiBmdWxsIHJlZ2V4IHN5bnRheCBzdXBwb3J0LgogICAqLwogIGNvbnN0IGRpdmVyc2VMaW5UaW1lUmVnZXhlcyA9IFsKICAgIC8qIFRydWx5IFJlZ3VsYXIgRXhwcmVzc2lvbnMgKi8KCiAgICAvLyBDb25qdW5jdGlvbgogICAgL2EvLAogICAgL2FiYy8sCgogICAgLy8gU2ltcGxlIHplcm8td2lkdGggYXNzZXJ0aW9ucwogICAgL15hLywKICAgIC9hJC8sCgogICAgLy8gUXVhbnRpZmllcnMKICAgIC9eYSovLAogICAgL15hKy8sCiAgICAvYT8vLAogICAgL3h7NX0vLAogICAgL3h7NSx9LywKICAgIC94ezUsMTB9LywKCiAgICAvLyBHcm91cGluZyBjb25zdHJ1Y3RzCiAgICAvKHgpLywKICAgIC8oPzp4KS8sCgogICAgLy8gRGlzanVuY3Rpb24KICAgIC94fHkvLAoKICAgIC8vIEJ1aWx0LWluIGNoYXJhY3RlciBjbGFzc2VzCiAgICAvLlwuLywKICAgIC9bXGJdLywKICAgIC9cYi8sCiAgICAvXEIvLAogICAgL1xjQS8sCiAgICAvXGQvLAogICAgL1xELywKICAgIC9cZi8sCiAgICAvXG4vLAogICAgL1xyLywKICAgIC9ccy8sCiAgICAvXFMvLAogICAgL1x0LywKICAgIC9cdi8sCiAgICAvXHcvLAogICAgL1xXLywKICAgIC9cMC8sCiAgICAvXHgwMC8sCiAgICAvXHUwMDAwLywKICAgIC9cdXswMDAwfS91LAoKICAgIC8vIEN1c3RvbSBjaGFyYWN0ZXIgY2xhc3NlcwogICAgL1t4eXpdLywKICAgIC9beC16XS8sCiAgICAvW154eXpdLywKICAgIC9bXngtel0vLAoKICAgIC8qIEV4dGVuZGVkIGZlYXR1cmVzICovCgogICAgLy8gQmFja3JlZmVyZW5jZXMKICAgIC8oeCkgXDEvLAoKICAgIC8vIExvb2thcm91bmQgYXNzZXJ0aW9ucwogICAgL3goPz15KS8sCiAgICAveCg/IXkpLywKCiAgICAvKiBBZGRlZCBpbiBFQ01BU2NyaXB0IDIwMTggKi8KCiAgICAvLyBMb29rYmVoaW5kIGFzc2VydGlvbnMKICAgIC8oPzw9eSl4LywKICAgIC8oPyE8eSl4LywKCiAgICAvLyBOYW1lZCBjYXB0dXJlIGdyb3VwcwogICAgLyg/PHllYXI+XGR7NH0pLywKICAgIC8oPzx5ZWFyPmEpXGs8eWVhcj4vLAogICAgLy8gVGVzdHMgcmVsYXRlZCB0byBidWcgIzI2CiAgICAvKD88eWVhcj50ZXN0PykvLAogICAgLyg/PHllYXI+dGVzdCopLywKICAgIC8oPzx5ZWFyPnRlc3QpKi8sCiAgXTsKCiAgZGl2ZXJzZUxpblRpbWVSZWdleGVzLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgibGluZWFyLXRpbWUgcmVnZXhlcyBhcmUgc2FmZSIsICgpID0+IHsKICBjb25zdCBsaW5UaW1lID0gWwogICAgLyoqCiAgICAgKiBObyBmYWxzZSBwb3NpdGl2ZXMKICAgICAqLwoKICAgIC8vIFN0YW5kYXJkIHJlZ2V4IGZlYXR1cmVzCiAgICAvYS8sCiAgICAvYSovLAogICAgL15hKi8sCiAgICAvXmErJC8sCiAgICAvYSskLywKICAgIC9hPy8sCiAgICAvYXszLDV9LywKICAgIC9hfGIvLAogICAgLyhhYikvLAogICAgLyhhYilcMS8sCiAgICAvXGJPYWtsYW5kXGIvLAogICAgL14oKGErKXwoYispKS8sCiAgICAvKGErKXwoYispLywKCiAgICAvLyBSRSdzIGluIGEgc3RyaW5nCiAgICAiXmZvby9iYXIiLAoKICAgIC8vIG5vbi1SRSwgbm9uLXN0cmluZwogICAgMSwKICBdOwoKICBsaW5UaW1lLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgibGluZWFyLXRpbWUgcmVnZXhlcyBhcmUgc2FmZSwgdW5kZXIgdmFyeWluZyByZXBldGl0aW9uIGxpbWl0cyIsICgpID0+IHsKICBjb25zdCByZTEgPSBSZWdFeHAoImE/Ii5yZXBlYXQoUkVQRVRJVElPTl9MSU1JVCkgKyAiYSIucmVwZWF0KFJFUEVUSVRJT05fTElNSVQpKTsKICBleHBlY3Qoc2FmZVJlZ2V4KHJlMSkpLnRvQmUodHJ1ZSk7CgogIGNvbnN0IExPV19SRVBFVElUSU9OX0xJTUlUID0gMzsKICBjb25zdCByZTIgPSBSZWdFeHAoQXJyYXkoTE9XX1JFUEVUSVRJT05fTElNSVQpLmpvaW4oImE/IikpOwoKICBleHBlY3Qoc2FmZVJlZ2V4KHJlMiwgeyBsaW1pdDogTE9XX1JFUEVUSVRJT05fTElNSVQgfSkpLnRvQmUodHJ1ZSk7Cn0pOwoKdGVzdCgicG9seS10aW1lIHJlZ2V4ZXMgYXJlIHNhZmUgKGF0IGxlYXN0IGFjY29yZGluZyB0byBvdXIgaGV1cmlzdGljcykiLCAoKSA9PiB7CiAgY29uc3QgcG9seVRpbWUgPSBbCiAgICAvXmErYSskLywgICAgICAgIC8vIFFPQQogICAgL15hK2FhKyQvLCAgICAgICAvLyBRT0Egd2l0aCBvYnZpb3VzIGludGVybWVkaWF0ZSBydW4KICAgIC9eYSthYWFhKyQvLCAgICAgLy8gUU9BIHdpdGggb2J2aW91cyBpbnRlcm1lZGlhdGUgcnVuCiAgICAvXmErW2Etel1hKyQvLCAgIC8vIFFPQSB3aXRoIG9idmlvdXMgaW50ZXJtZWRpYXRlIHJ1bgogICAgL15hK1x3YSskLywgICAgICAvLyBRT0Egd2l0aCBpbnRlcm1lZGlhdGUgY2hhcmFjdGVyIGNsYXNzCiAgICAvXmErKFx3fFxkKWErJC8sIC8vIFFPQSB3aXRoIHZhbGlkIHBhdGggdGhyb3VnaAogICAgL15hK2I/YSskLywgICAgICAvLyBRT0Egd2l0aCB2YWxpZCBwYXRoIHRocm91Z2gKICAgIC9eYSsoY2RlKSphKyQvLCAgLy8gUU9BIHdpdGggdmFsaWQgcGF0aCB0aHJvdWdoCiAgICAvXi4qYSokLywgICAgICAgIC8vIFFPQSBieSBzdWJzZXQKICAgIC9eXHcqXGQqJC8sICAgICAgLy8gUU9BIGJ5IGludGVyc2VjdGlvbgogICAgL15cUytAXFMrXC5cUyskLywgLy8gRXhhbXBsZSBmcm9tIERqYW5nbwogICAgL2ErJC8sICAgICAgICAgICAvLyBRT0EgdW5kZXIgcGFydGlhbC1tYXRjaAogICAgL2FiYy4qJC8sICAgICAgICAvLyBRT0EgdW5kZXIgcGFydGlhbC1tYXRjaAogICAgLy8gVE9ETyBJdCB3b3VsZCBiZSBuaWNlIHRvIGhhdmUgb25lIG9mIHRoZSByZWdleGVzIHRoYXQgYXJlIHBvbHktdGltZSBldmVuIHdoZW4gdGhleSBtYXRjaCwgZHVlIHRvIG5vbi1ncmVlZHkgcXVhbnRpZmllcnMgKHAtTkZBKQogIF07CgogIHBvbHlUaW1lLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgiZXhwLXRpbWUgcmVnZXhlcyBkdWUgdG8gc3RhciBoZWlnaHQgYXJlIHVuc2FmZSIsICgpID0+IHsKICBjb25zdCBleHBUaW1lID0gWwogICAgLy8gU3RyYWlnaHRmb3J3YXJkIHN0YXIgaGVpZ2h0CiAgICAvKGEqKSokLywKICAgIC8oYT8pKiQvLAogICAgLyhhKik/JC8sCiAgICAvKGEqKSskLywKICAgIC8oYSspKiQvLAogICAgLyhcd2ErKSokLywgLy8gUHJlZml4CiAgICAvKFwuLiopKiQvLCAvLyBTdWZmaXgKCiAgICAvLyBCcmFuY2hpbmcgYW5kIG5lc3RpbmcuCiAgICAvKGEqfGIpKyQvLAogICAgLyhhfGIqKSskLywKICAgIC8oKChiKikpKSskLywKICAgIC8oKChiKikpKykkLywKICAgIC8oKChiKikrKSkkLywKICAgIC8oKChiKSopKykkLywKICAgIC8oKChiKSopKSskLywKCiAgICAvLyBNaXNjLiBtb3JlIGNvbXBsZXggY2FzZXMKICAgIC9eKGE/KXsyNX0oYSl7MjV9JC8sCiAgICAvKHgreCspK3kvLAogICAgL2Zvb3woeCt4KykreS8sCiAgICAvKGErKXsxMH15LywKICAgIC8oYSspezJ9eS8sCiAgICAvKC4qKXsxLDMyMDAwfVtiY10vLAoKCiAgICAvLyBSRSdzIGluIGEgc3RyaW5nCiAgICAiKGErKSsiLAogIF07CgogIGV4cFRpbWUuZm9yRWFjaChyZSA9PiB7CiAgICBleHBlY3Qoc2FmZVJlZ2V4KHJlKSkudG9CZShmYWxzZSk7CiAgfSk7Cn0pOwoKdGVzdCgibGluZWFyLXRpbWUgcmVnZXhlcyB3aXRoIHN0YXIgaGVpZ2h0ID4gMSIsICgpID0+IHsKICAvLyBUT0RPIFRoZXNlIGFyZSBmYWxzZSBwb3NpdGl2ZXMsIEZpeCBvbmNlIHdlIGltcHJvdmUgYW5hbHlzaXMKICBjb25zdCBsaW5UaW1lID0gWwogICAgLyhhYiopKyQvLAogICAgLyhiKmEpKyQvLAogIF07CgogIGxpblRpbWUuZm9yRWFjaChyZSA9PiB7CiAgICBleHBlY3Qoc2FmZVJlZ2V4KHJlKSkudG9CZShmYWxzZSk7CiAgfSk7Cn0pOwoKdGVzdCgiZXhwLXRpbWUgcmVnZXhlcyBkdWUgdG8gZGlzanVuY3Rpb24gYXJlIHNhZmUgKGFjY29yZGluZyB0byBjdXJyZW50IGhldXJpc3RpY3MpIiwgKCkgPT4gewogIC8vIFRPRE8gVGhlc2UgYXJlIGZhbHNlIG5lZ2F0aXZlcy4gRml4IG9uY2Ugd2UgaW1wcm92ZSBhbmFseXNpcwogIGNvbnN0IGV4cFRpbWUgPSBbCiAgICAvKGF8YSkqJC8sICAgICAgIC8vIFFPRDogb2J2aW91cyAKICAgIC8oYXxcdykqJC8sICAgICAgLy8gUU9EIGR1ZSB0byBvdmVybGFwCiAgICAvKFthYmNdfGIpKiQvLCAgIC8vIFFPRCBkdWUgdG8gb3ZlcmxhcAogICAgLyhcd1x3XHd8YmFiKSokLywgLy8gUU9EIGR1ZSB0byBvdmVybGFwLCB3aXRoIG11bHRpLXN0ZXAgaW50ZXJuYWwgcGF0aHMKICBdOwoKICBleHBUaW1lLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUodHJ1ZSk7CiAgfSk7Cn0pOwoKdGVzdCgicmVnZXggdGhhdCBleGNlZWRzIHJlcGV0aXRpb24gbGltaXQgaXMgdW5zYWZlIiwgKCkgPT4gewogIGNvbnN0IHJlMSA9IFJlZ0V4cCgiYT8iLnJlcGVhdChSRVBFVElUSU9OX1RPT19NVUNIKSArICJhIi5yZXBlYXQoUkVQRVRJVElPTl9UT09fTVVDSCkpOwogIGV4cGVjdChzYWZlUmVnZXgocmUxKSkudG9CZShmYWxzZSk7CgogIGNvbnN0IExPV19SRVBFVElUSU9OX0xJTUlUID0gMzsKICBjb25zdCByZTIgPSBSZWdFeHAoImE/Ii5yZXBlYXQoTE9XX1JFUEVUSVRJT05fTElNSVQgKyAxKSk7CiAgZXhwZWN0KHNhZmVSZWdleChyZTIsIHsgbGltaXQ6IExPV19SRVBFVElUSU9OX0xJTUlUIH0pKS50b0JlKGZhbHNlKTsKfSk7Cgp0ZXN0KCJpbnZhbGlkIHJlZ2V4ZXMgZGVmYXVsdCB0byB1bnNhZmUiLCAoKSA9PiB7CiAgY29uc3QgaW52YWxpZCA9IFsKICAgICIoYSsiLAogICAgIlthLXoiLAogICAgIipPYWtsYW5kKiIsCiAgICAiaGV5KHlvbykgKSIsCiAgICAiYWJjZGUoPz5oZWxsb3cpIiwKICAgICJbYWJjIiwKICBdOwoKICBpbnZhbGlkLmZvckVhY2gocmUgPT4gewogICAgZXhwZWN0KHNhZmVSZWdleChyZSkpLnRvQmUoZmFsc2UpOwogIH0pOwp9KTtQSwECFAAKAAAAAABhZ1RRAAAAAAAAAAAAAAAAHAAAAAAAAAAAABAAAAAAAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1BLAQIUAAoAAAAAAGFnVFEAAAAAAAAAAAAAAAAkAAAAAAAAAAAAEAAAADoAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvLmdpdGh1Yi9QSwECFAAKAAAAAABhZ1RRAAAAAAAAAAAAAAAALgAAAAAAAAAAABAAAAB8AAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy5naXRodWIvd29ya2Zsb3dzL1BLAQIUAAoAAAAAAGFnVFFal+bXoQQAAKEEAAA9AAAAAAAAAAAAAAAAAMgAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvLmdpdGh1Yi93b3JrZmxvd3MvbnBtLXB1Ymxpc2gueW1sUEsBAhQACgAAAAAAYWdUUc8rwAk4AAAAOAAAACYAAAAAAAAAAAAAAAAAxAUAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aWdub3JlUEsBAhQACgAAAAAAYWdUUawPHMAhAAAAIQAAACYAAAAAAAAAAAAAAAAAQAYAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8ubnBtaWdub3JlUEsBAhQACgAAAAAAYWdUUYwkt/yYAAAAmAAAACcAAAAAAAAAAAAAAAAApQYAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8udHJhdmlzLnltbFBLAQIUAAoAAAAAAGFnVFHwmmiGSgEAAEoBAAAoAAAAAAAAAAAAAAAAAIIHAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvQ0hBTkdFTE9HLm1kUEsBAhQACgAAAAAAYWdUUU8dlrHSBAAA0gQAACMAAAAAAAAAAAAAAAAAEgkAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9MSUNFTlNFUEsBAhQACgAAAAAAYWdUUWlPpBVKDgAASg4AACUAAAAAAAAAAAAAAAAAJQ4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9SRUFETUUubWRQSwECFAAKAAAAAABhZ1RRaUx5I0oBAABKAQAALQAAAAAAAAAAAAAAAACyHAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL2JhYmVsLmNvbmZpZy5qc29uUEsBAhQACgAAAAAAYWdUUQAAAAAAAAAAAAAAACAAAAAAAAAAAAAQAAAARx4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9iaW4vUEsBAhQACgAAAAAAYWdUUbwZT5S7AwAAuwMAACYAAAAAAAAAAAAAAAAAhR4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9iaW4vY2xpLmpzUEsBAhQACgAAAAAAYWdUUQAAAAAAAAAAAAAAACQAAAAAAAAAAAAQAAAAhCIAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9leGFtcGxlL1BLAQIUAAoAAAAAAGFnVFHNOhfbYgAAAGIAAAArAAAAAAAAAAAAAAAAAMYiAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvZXhhbXBsZS9zYWZlLmpzUEsBAhQACgAAAAAAYWdUUV9MWNpeBQAAXgUAACgAAAAAAAAAAAAAAAAAcSMAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9wYWNrYWdlLmpzb25QSwECFAAKAAAAAABhZ1RRAAAAAAAAAAAAAAAAIAAAAAAAAAAAABAAAAAVKQAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9QSwECFAAKAAAAAABhZ1RReYt0/HgAAAB4AAAAMgAAAAAAAAAAAAAAAABTKQAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9hbmFseXplci1mYW1pbHkuanNQSwECFAAKAAAAAABhZ1RRnbJkTnAGAABwBgAAKwAAAAAAAAAAAAAAAAAbKgAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy9hbmFseXplci5qc1BLAQIUAAoAAAAAAGFnVFHeLib84QUAAOEFAAA1AAAAAAAAAAAAAAAAANQwAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL2hldXJpc3RpYy1hbmFseXplci5qc1BLAQIUAAoAAAAAAGFnVFF0UF998AYAAPAGAAAoAAAAAAAAAAAAAAAAAAg3AABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvc3JjL2luZGV4LmpzUEsBAhQACgAAAAAAYWdUUQAAAAAAAAAAAAAAACUAAAAAAAAAAAAQAAAAPj4AAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC9zcmMvdGVzdC9QSwECFAAKAAAAAABhZ1RRrga12VsVAABbFQAAMgAAAAAAAAAAAAAAAACBPgAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL3NyYy90ZXN0L3JlZ2V4LnNwZWMuanNQSwUGAAAAABcAFwDLBwAALFQAACgAOTA0MWQ4MDg4MzBhNTg0ZDBlNmY1MTI5MzkwODlmNjcwODBkYmRkMg=="}
info: authorizeUser: Authorizing user...
info: authorizeUser: Auth received eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7IlVzZXIiOnsibmFtZSI6ImVjZTMwODYxZGVmYXVsdGFkbWludXNlciIsImlzQWRtaW4iOnRydWUsImlzU2VhcmNoIjp0cnVlLCJpc0Rvd25sb2FkIjp0cnVlLCJpc1VwbG9hZCI6dHJ1ZX0sIlNlY3JldCI6eyJwYXNzd29yZCI6ImNvcnJlY3Rob3JzZWJhdHRlcnlzdGFwbGUxMjMoIV9fK0AqKihBJ1wiYDtEUk9QIFRBQkxFIHBhY2thZ2VzOyJ9fSwiaWF0IjoxNjgzMTY1MzY2LCJleHAiOjE2ODMyMDEzNjZ9.l6Jyd3iQX5Wgj3YiR3jWfQULGMrPaa6PDJG2DFxrZCw
info: auth success
info: Validate: Validating request body
info: postPackage: POST /package endpoint hit
info: postPackage: didUploadURL: false
info: unzipContent: Unzipping content
info: Base path to repo: /Users/graysonnocera/Desktop/Spring2023/ECE461/ProjectRepos/ece-461-project-part2/src/artifacts/unzipped/davisjam-safe-regex-9041d80
info: postPackage: basePath: /Users/graysonnocera/Desktop/Spring2023/ECE461/ProjectRepos/ece-461-project-part2/src/artifacts/unzipped/davisjam-safe-regex-9041d80
info: getPackageJSON: Getting url from content base64 string
info: getPackageJSONObject: Getting package.json object
info: getPackageJSONObject: Found package.json
info: postPackage: packageToUpload.data.URL from package_json['hompage']: https://github.com/davisjam/safe-regex
info: getMetadata: Getting metadata from package
info: getMetadata: Getting metadata from package.json
info: Successfully got metadata from package: name: safe-regex version: 2.1.2
info: Checking if package name is in database
info: POST /package: Writing file to /Users/graysonnocera/Desktop/Spring2023/ECE461/ProjectRepos/ece-461-project-part2/src/artifacts/safe-regex.txt from content
info: getReadme: Getting readme from content base64 string, basePath: /Users/graysonnocera/Desktop/Spring2023/ECE461/ProjectRepos/ece-461-project-part2/src/artifacts/unzipped/davisjam-safe-regex-9041d80
info: getReadme: Found readme
info: POST /package: Saving package: {
  data: {
    Content: 'UEsDBAoAAAAAAGFnVFEAAAAAAAAAAAAAAAAcAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAAJAAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aHViL1BLAwQKAAAAAABhZ1RRAAAAAAAAAAAAAAAALgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8uZ2l0aHViL3dvcmtmbG93cy9QSwMECgAAAAAAYWdUUVqX5tehBAAAoQQAAD0AAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvLmdpdGh1Yi93b3JrZmxvd3MvbnBtLXB1Ymxpc2gueW1sIyBUaGlzIHdvcmtmbG93IHdpbGwgcnVuIHRlc3RzIHVzaW5nIG5vZGUgYW5kIHRoZW4gcHVibGlzaCBhIHBhY2thZ2UgdG8gR2l0SHViIFBhY2thZ2VzIHdoZW4gYSByZWxlYXNlIGlzIGNyZWF0ZWQKIyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWU6IGh0dHBzOi8vaGVscC5naXRodWIuY29tL2FjdGlvbnMvbGFuZ3VhZ2UtYW5kLWZyYW1ld29yay1ndWlkZXMvcHVibGlzaGluZy1ub2RlanMtcGFja2FnZXMKCm5hbWU6IE5vZGUuanMgUGFja2FnZQoKb246CiAgcmVsZWFzZToKICAgIHR5cGVzOiBbY3JlYXRlZF0KCmpvYnM6CiAgYnVpbGQ6CiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CiAgICBzdGVwczoKICAgICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAgIC0gdXNlczogYWN0aW9ucy9zZXR1cC1ub2RlQHYxCiAgICAgICAgd2l0aDoKICAgICAgICAgIG5vZGUtdmVyc2lvbjogMTIKICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHRlc3QKCiAgcHVibGlzaC1ucG06CiAgICBuZWVkczogYnVpbGQKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgICAgLSB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjEKICAgICAgICB3aXRoOgogICAgICAgICAgbm9kZS12ZXJzaW9uOiAxMgogICAgICAgICAgcmVnaXN0cnktdXJsOiBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8KICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHB1Ymxpc2gKICAgICAgICBlbnY6CiAgICAgICAgICBOT0RFX0FVVEhfVE9LRU46ICR7e3NlY3JldHMubnBtX3Rva2VufX0KCiAgcHVibGlzaC1ncHI6CiAgICBuZWVkczogYnVpbGQKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgICAgLSB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjEKICAgICAgICB3aXRoOgogICAgICAgICAgbm9kZS12ZXJzaW9uOiAxMgogICAgICAgICAgcmVnaXN0cnktdXJsOiBodHRwczovL25wbS5wa2cuZ2l0aHViLmNvbS8KICAgICAgLSBydW46IG5wbSBjaQogICAgICAtIHJ1bjogbnBtIHB1Ymxpc2gKICAgICAgICBlbnY6CiAgICAgICAgICBOT0RFX0FVVEhfVE9LRU46ICR7e3NlY3JldHMuR0lUSFVCX1RPS0VOfX0KUEsDBAoAAAAAAGFnVFHPK8AJOAAAADgAAAAmAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy5naXRpZ25vcmUudnNjb2RlCmNvdmVyYWdlCm5vZGVfbW9kdWxlcy8KcGFja2FnZS1sb2NrLmpzb24KZGlzdC8KClBLAwQKAAAAAABhZ1RRrA8cwCEAAAAhAAAAJgAAAGRhdmlzamFtLXNhZmUtcmVnZXgtOTA0MWQ4MC8ubnBtaWdub3JlLnZzY29kZQpjb3ZlcmFnZQpzcmMvCmRpc3QvdGVzdC8KUEsDBAoAAAAAAGFnVFGMJLf8mAAAAJgAAAAnAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwLy50cmF2aXMueW1sc3VkbzogcmVxdWlyZWQKCmxhbmd1YWdlOiBub2RlX2pzCgpub2RlX2pzOgogIC0gIjEwIgogIC0gIjEyIgoKaW5zdGFsbDoKICAtIG5wbSBpbnN0YWxsCgpzY3JpcHQ6CiAgLSBucG0gdGVzdAoKY2FjaGU6CiAgZGlyZWN0b3JpZXM6CiAgICAtIG5vZGVfbW9kdWxlcwpQSwMECgAAAAAAYWdUUfCaaIZKAQAASgEAACgAAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvQ0hBTkdFTE9HLm1kIyB2MgoKIyMgdjIuMAoKIyMgdjIuMC4wCgoxLiBVcGRhdGUgUkVBRE1FLgoyLiBTd2l0Y2ggQVNUIGxpYnJhcnkgZnJvbSByZXQgdG8gcmVnZXhwLXRyZWUuCjMuIEZpeCBpbmNvcnJlY3QgaGFuZGxpbmcgb2YgbmVzdGVkIHF1YW50aWZpZXJzIGluIGRpc2p1bmN0aW9ucy4KNC4gRW5oYW5jZSB0ZXN0IHN1aXRlLgoKQ29udHJpYnV0b3JzOgotIFtkYXZpc2phbV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdmlzamFtKQoKIyB2MQoKVGhpcyBpcyB0aGUgaGlzdG9yaWMgcmVsZWFzZS4KCkNvbnRyaWJ1dG9yczoKLSBbc3Vic3RhY2tdKGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjaykKUEsDBAoAAAAAAGFnVFFPHZax0gQAANIEAAAjAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL0xJQ0VOU0VDb3B5cmlnaHQgMjAxOS1wcmVzZW50IGlzIGhlbGQgYnkgdGhlIGF1dGhvcnMgb2YgdGhlIHNhZmUtcmVnZXggbW9kdWxlLgoKVGhpcyBzb2Z0d2FyZSBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6CgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mCnRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluCnRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8KdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YKdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLApzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MKRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SCkNPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUgpJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTgpDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKT3JpZ2luYWwgYXV0aG9yOiBKYW1lcyBIYWxsaWRheSBAc3Vic3RhY2sKTWFpbnRhaW5lcjogSmFtZXMgQy4gKEphbWllKSBEYXZpcyBAZGF2aXNqYW0KUEsDBAoAAAAAAGFnVFFpT6QVSg4AAEoOAAAlAAAAZGF2aXNqYW0tc2FmZS1yZWdleC05MDQxZDgwL1JFQURNRS5tZCMgc2FmZS1yZWdleAoKRGV0ZWN0IHBvdGVudGlhbGx5CltjYXRhc3Ryb3BoaWNdKGh0dHA6Ly9yZWd1bGFyLWV4cHJlc3Npb25zLm1vYmkvY2F0YXN0cm9waGljLmh0bWwpCltleHBvbmVudGlhbC10aW1lXShodHRwOi8vcGVybGdlZWsuZGUvYmxvZy1lbi9wZXJsLXRpcHMvaW4tc2VhcmNoLW9mLWFuLWV4cG9uZXRpYWwtcmVnZXhwLmh0bWwpCnJlZ3VsYXIgZXhwcmVzc2lvbnMgYnkgbGltaXRpbmcgdGhlCltzdGFyIGhlaWdodF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Rhcl9oZWlnaHQpIHRvIDEuCgpXQVJOSU5HOiBUaGlzIG1vZHVsZSBoYXMgYm90aCBmYWxzZSBwb3NpdGl2ZXMgYW5kIGZhbHNlIG5lZ2F0aXZlcy4KVXNlIFt2dWxuLXJlZ2V4LWRldGVjdG9yXShodHRwczovL2dpdGh1Yi5jb20vZGF2aXNqYW0vdnVsbi1yZWdleC1kZXRlY3RvcikgZm9yIGltcHJvdmVkIGFjY3VyYWN5LgoKWyFbQnVpbGQgU3RhdHVzXShodHRwczovL3RyYXZpcy1jaS5vcmcvZGF2aXNqYW0vc2FmZS1yZWdleC5zdmc/YnJhbmNoPW1hc3RlcildKGh0dHBzOi8vdHJhdmlzLWNpLm9yZy9kYXZpc2phbS9zYWZlLXJlZ2V4KQoKIyMgRXhhbXBsZQoKU3VwcG9zZSB5b3UgaGF2ZSBhIHNjcmlwdCBuYW1lZCBgc2FmZS5qc2A6CgpgYGAganMKdmFyIHNhZmUgPSByZXF1aXJlKCdzYWZlLXJlZ2V4Jyk7CnZhciByZWdleCA9IHByb2Nlc3MuYXJndi5zbGljZSgyKS5qb2luKCcgJyk7CmNvbnNvbGUubG9nKHNhZmUocmVnZXgpKTsKYGBgCgpUaGlzIGlzIGl0cyBiZWhhdmlvcjoKCmBgYAokIG5vZGUgc2FmZS5qcyAnKHgreCspK3knCmZhbHNlCiQgbm9kZSBzYWZlLmpzICcoYmVlcHxib29wKSonCnRydWUKJCBub2RlIHNhZmUuanMgJyhhKyl7MTB9JwpmYWxzZQokIG5vZGUgc2FmZS5qcyAnXGJsb2NhdGlvblxzKjpbXjpcbl0rXGIoT2FrbGFuZHxTYW4gRnJhbmNpc2NvKVxiJwp0cnVlCmBgYAoKIyMgTWV0aG9kcwoKYGBgIGpzCmNvbnN0IHNhZmUgPSByZXF1aXJlKCdzYWZlLXJlZ2V4JykKYGBgCgojIyMgY29uc3Qgb2sgPSBzYWZlKHJlLCBvcHRzPXt9KQoKUmV0dXJuIGEgYm9vbGVhbiBgb2tgIHdoZXRoZXIgb3Igbm90IHRoZSByZWdleCBgcmVgIGlzIHNhZmUgYW5kIG5vdCBwb3NzaWJseQpjYXRhc3Ryb3BoaWMuCgpgcmVgIGNhbiBiZSBhIGBSZWdFeHBgIG9iamVjdCBvciBqdXN0IGEgc3RyaW5nLgoKSWYgdGhlIGByZWAgaXMgYSBzdHJpbmcgYW5kIGlzIGFuIGludmFsaWQgcmVnZXgsIHJldHVybnMgYGZhbHNlYC4KCiogYG9wdHMubGltaXRgIC0gbWF4aW11bSBudW1iZXIgb2YgYWxsb3dlZCByZXBldGl0aW9ucyBpbiB0aGUgZW50aXJlIHJlZ2V4LgpEZWZhdWx0OiBgMjVgLgoKIyMgSW5zdGFsbAoKV2l0aCBbbnBtXShodHRwczovL25wbWpzLm9yZykgZG86CgpgYGAKbnBtIGluc3RhbGwgc2FmZS1yZWdleApgYGAKCiMjIFJlc291cmNlcwoKIyMjIFdoYXQgc2hvdWxkIEkgZG8gaWYgbXkgcHJvamVjdCBoYXMgYSBzdXBlci1saW5lYXIgcmVnZXg/CgoxLiBDb25maXJtIHRoYXQgaXQgaXMgKnJlYWNoYWJsZSogYnkgdW50cnVzdGVkIGlucHV0LgoyLiBJZiBpdCBpcywgeW91IGNhbiBjb25zaWRlciB3aGV0aGVyIHlvdSBjYW4gcHJldmVudCB3b3JzdC1jYXNlIGJlaGF2aW9yIGJ5IHRyaW1taW5nIHRoZSBpbnB1dCwgcmV2aXNpbmcgdGhlIHJlZ2V4LCBvciByZXBsYWNpbmcgdGhlIHJlZ2V4IHdpdGggYW5vdGhlciBhbGdvcml0aG0gbGlrZSBzdHJpbmcgZnVuY3Rpb25zLiBGb3IgZXhhbXBsZXMsIHNlZSBUYWJsZSA1IGluIFt0aGlzIGFydGljbGVdKGh0dHA6Ly9wZW9wbGUuY3MudnQuZWR1L2RhdmlzamFtL2Rvd25sb2Fkcy9wdWJsaWNhdGlvbnMvRGF2aXNDb2dobGFuU2VydmFudExlZS1FY29zeXN0ZW1SRURPUy1FU0VDRlNFMTgucGRmKS4KMy4gSWYgbm9uZSBvZiB0aG9zZSBzb2x1dGlvbnMgbG9va3MgZmVhc2libGUsIHlvdSBtaWdodCBhbHNvIGNvbnNpZGVyIGNoYW5naW5nIHJlZ2V4IGVuZ2luZXMuIFRoZSBbUkUyIGJpbmRpbmdzXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yZTIpIG1pZ2h0IHdvcmssIHRob3VnaCB0ZXN0IGNhcmVmdWxseSB0byBjb25maXJtIHRoZXJlIGFyZSBubyBbc2VtYW50aWMgcG9ydGFiaWxpdHkgcHJvYmxlbXNdKGh0dHBzOi8vbWVkaXVtLmNvbS9AZGF2aXNqYW0vd2h5LWFyZW50LXJlZ2V4ZXMtYS1saW5ndWEtZnJhbmNhLWVzZWNmc2UxOS1hMzYzNDhkZjNhMj9zb3VyY2U9ZnJpZW5kc19saW5rJnNrPWQyMWJlN2Y4ZjcyM2UyMDgwZGM5OTMzODVjNjk3M2QxKS4KCiMjIyBGdXJ0aGVyIHJlYWRpbmcKClRoZSBmb2xsb3dpbmcgZG9jdW1lbnRzIG1heSBiZSBlZGlmeWluZzoKCi0gW1Jlc2VhcmNoIGJyaWVmIG9uIHRoZSBleHRlbnQgb2Ygc3VwZXItbGluZWFyIHJlZ2V4ZXMgaW4gcHJhY3RpY2VdKGh0dHBzOi8vbWVkaXVtLmNvbS9AZGF2aXNqYW0vaW50cm9kdWN0aW9uLTk4N2ZkYzRjN2IwP3NvdXJjZT1mcmllbmRzX2xpbmsmc2s9Y2VlZmE0YTRjYTk2MTdlMDhhYjc4MmMzYjE1ODBhZWEpCi0gW1Jlc2VhcmNoIGJyaWVmIG9uIHRoZSB2YXJpYWJpbGl0eSBvZiBzdXBlci1saW5lYXIgcmVnZXggYmVoYXZpb3IgYWNyb3NzIHByb2dyYW1taW5nIGxhbmd1YWdlc10oaHR0cHM6Ly9tZWRpdW0uY29tL0BkYXZpc2phbS93aHktYXJlbnQtcmVnZXhlcy1hLWxpbmd1YS1mcmFuY2EtZXNlY2ZzZTE5LWEzNjM0OGRmM2EyP3NvdXJjZT1mcmllbmRzX2xpbmsmc2s9ZDIxYmU3ZjhmNzIzZTIwODBkYzk5MzM4NWM2OTczZDEpCi0gW0NvbXBhcmluZyByZWdleCBtYXRjaGluZyBhbGdvcml0aG1zXShodHRwczovL3N3dGNoLmNvbS9+cnNjL3JlZ2V4cC9yZWdleHAxLmh0bWwpCgojIyBQcm9qZWN0IHBvbGljaWVzCgojIyMgVmVyc2lvbmluZwoKVGhpcyBwcm9qZWN0IGZvbGxvd3MgW1NlbWFudGljIFZlcnNpb25pbmcgMi4wIChzZW12ZXIpXShodHRwczovL3NlbXZlci5vcmcvKS4KCkhlcmUgYXJlIHRoZSBwcm9qZWN0LXNwZWNpZmljIG1lYW5pbmdzIG9mIE1BSk9SLCBNSU5PUiwgYW5kIFBBVENIIHVwZGF0ZXM6CgotIE1BSk9SOiAiSW5jb21wYXRpYmxlIiBBUEkgY2hhbmdlcyB3ZXJlIGludHJvZHVjZWQuIFRoZXJlIGFyZSB0d28gdHlwZXMgaW4gdGhpcyBtb2R1bGU6CiAgLSBDaGFuZ2VzIHRoYXQgbW9kaWZ5IHRoZSBpbnRlcmZhY2UKICAtIENoYW5nZXMgdGhhdCBjYXVzZSBhbnkgcmVnZXhlcyB0byBiZSBtYXJrZWQgYXMgdW5zYWZlIHRoYXQgd2VyZSBmb3JtZXJseSBtYXJrZWQgYXMgc2FmZQotIE1JTk9SOiBGdW5jdGlvbmFsaXR5IHdhcyBhZGRlZCBpbiBhIGJhY2t3YXJkcy1jb21wYXRpYmxlIG1hbm5lci4gVGhlcmUgYXJlIHR3byB0eXBlcyBpbiB0aGlzIG1vZHVsZToKICAtIFJlZmFjdG9yaW5nIHRoZSBhbmFseXNlcyBidXQgbm90IGNoYW5naW5nIHRoZWlyIHJlc3VsdHMKICAtIE1vZGlmeWluZyB0aGUgYW5hbHlzZXMgdG8gcmVkdWNlIGZhbHNlIHBvc2l0aXZlcywgd2l0aG91dCBhZmZlY3RpbmcgbmVnYXRpdmVzIChmYWxzZSBvciB0cnVlKQotIFBBVENIOiBJIGRvbid0IGFudGljaXBhdGUgdXNpbmcgUEFUQ0ggZm9yIHRoaXMgbW9kdWxlCgojIyMgTGljZW5zZQoKW01JVF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdmlzamFtL3NhZmUtcmVnZXgvYmxvYi9tYXN0ZXIvTElDRU5TRSlQSwMECgAAAAAAYWdUUWlMeSNKAQAASgEAAC0AAABkYXZpc2phbS1zYWZlLXJlZ2V4LTkwNDFkODAvYmFiZWwuY29uZmlnLmpzb257CiAgICAicHJlc2V0cyI6IFsKICAgICAgICBbCiAgICAgICAgICAgICJAYmFiZWwvcHJlc2V0LWVudiIsCiAgICAgICAgICAgIHsKICAg'... 21476 more characters,
    URL: 'https://github.com/davisjam/safe-regex'
  },
  metadata: { Name: 'safe-regex', Version: '2.1.2', ID: '' }
}
debug: uploadFileToMongo: No file to delete in mongo with ID 645310cc1daffe4ed638018c
info: uploadFileToMongo: Uploading file to MongoDB: safe-regex.txt
info: POST /package: Package metadata added successfully {
  Name: 'safe-regex',
  Version: '2.1.2',
  ID: '645310cc1daffe4ed638018c',
  _id: new ObjectId("645310cc1daffe4ed638018f")
}
info: POST /package: Package created successfully
info: deleteUnzippedFolder: Deleting unzipped folder
info: deleteUnzippedFolder: Deleted unzipped folder
info: uploadFileToMongo: File Inserted into mongo with ID 645310cc1daffe4ed638018c, deleting it locally
info: deleteBase64File: Deleting base64 file
info: deleteBase64File: Deleted base64 file
info: req{"URL":"https://github.com/facebook/react"}
info: authorizeUser: Authorizing user...
info: authorizeUser: Auth received eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7IlVzZXIiOnsibmFtZSI6ImVjZTMwODYxZGVmYXVsdGFkbWludXNlciIsImlzQWRtaW4iOnRydWUsImlzU2VhcmNoIjp0cnVlLCJpc0Rvd25sb2FkIjp0cnVlLCJpc1VwbG9hZCI6dHJ1ZX0sIlNlY3JldCI6eyJwYXNzd29yZCI6ImNvcnJlY3Rob3JzZWJhdHRlcnlzdGFwbGUxMjMoIV9fK0AqKihBJ1wiYDtEUk9QIFRBQkxFIHBhY2thZ2VzOyJ9fSwiaWF0IjoxNjgzMTY1MzY2LCJleHAiOjE2ODMyMDEzNjZ9.l6Jyd3iQX5Wgj3YiR3jWfQULGMrPaa6PDJG2DFxrZCw
info: auth success
info: Validate: Validating request body
info: postPackage: POST /package endpoint hit
info: postPackage: didUploadURL: true
info: getMetadata: Getting metadata from package
info: getMetadata: Getting metadata from URL
info: getGitRepoDetails: Extracted username: facebook and repoName: react
info: getVersionFromURL: latest release: 
info: Successfully got metadata from package: name: react version: v18.2.0
info: Checking if package name is in database
info: ratePackage: Running rate script on url https://github.com/facebook/react...
